<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Common tasks">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Using the Map function to create new values</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.topic-ratings-button
{
	-pie-background: transparent url('../../Skins/Default/Stylesheets/Images/star-full.png') no-repeat center center;
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.edit-user-profile-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/edit-profile.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div id="contentBody">
                                    <div class="row collapse">
                                        <div class="sideContent">
                                            <div class="clearfix">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Navigate next">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                        </button>
                                                        <div class="button-group star-buttons loading feedback-topic-required">
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                        </div>
                                                        <div class="button-separator">
                                                        </div>
                                                        <button class="button feedback-required login-button" id="normalLoginBtn" data-state1-class="login-button" data-state2-class="edit-user-profile-button" title="Login" data-state1-title="Login">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="login" />
                                                        </button>
                                                        <button class="button needs-pie print-button" title="Print">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/XD_help.js" data-mc-side-menu="True" data-mc-max-depth="-1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                            </ul>
                                        </div>
                                        <div class="nocontent">
                                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                            </div>
                                        </div>
                                        <div class="bodyProxyNarrow">
                                            <h1>Using the Map function to create new values</h1>
                                            <p>The Map function is divided into categories of functions that  create new values to help you derive meaning from your dataset. The new values can be based on one or multiple selected columns. For example, you can perform an arithmetic calculation from values in two selected columns to create a third column that contains the results of the calculation. The new value may also be generated without any input. For example, you can generate a column of unique, random values.</p>
                                            <p>This section describes the steps for performing a Map function. For descriptions of all Map functions, see <a href="../D_Reference/I_MapFunctions.htm" class="MCXref xref" xrefformat="{para}">Map functions</a>.</p>
                                            <div class="Note"><span class="label">IMPORTANT</span>:&#160;Many  Map functions work in a similar way as Microsoft Excel functions. However, there might be differences, such as differences in the  number of operands accepted.&#160;Do not assume that the  Map functions are identical to the Excel functions even though they share the same name. </div>
                                            <h2>How a Map function works on Mixed, Array, or Object columns</h2>
                                            <p>If you use a Mixed column as input to a Map function, the function is run on the cells of a data type appropriate for the function. For all other cells, the function returns FNF. For example, if a Mixed column is the input for the div function, the division is performed only on numerical cells. FNF&#160;is displayed for each non-numerical cell in the resultant column.</p>
                                            <p>If you use an Array or Object column as input to a Map function, the input value is treated as FNF. </p>
                                            <p>For more information about FNF, see <a href="P_UnderstandFNF.htm" class="MCXref xref" xrefformat="{para}">Working with a table containing FNF</a>.</p>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;You cannot start  a Map function from the column drop-down menu of an Array or Object column, but you can run the function from the function bar using a column of any type as input. For more information about using the function bar, see <a href="../C_AdvancedTasks/D_FunctionBar.htm" class="MCXref xref" xrefformat="{para}">Using the function  bar</a>.</div>
                                            <h2>Creating a column</h2>
                                            <p>Follow these steps to create a column with the Map operation:</p>
                                            <ol>
                                                <li value="1">
                                                    <p>Right click the header of the column from which you want to create new values. In the drop-down menu, select <span class="UIelement">Map…</span>. The <span class="UIelement">MAP</span>&#160;panel is displayed. </p>
                                                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="17" alt="Closed" data-mc-alt2="Open" />The following lists describe the rules and tips for entering information in a <span class="GeneralGUIName1">Xcalar Design</span> panel.</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>For selecting columns:</p>
                                                            <ul>
                                                                <li value="1">By default, the name of the column from which you start the function is displayed as an argument. You can select another column.</li>
                                                                <li value="2">If necessary,  click <img src="../Resources/Images/XD_assets/xd-show.png" /> in the panel to bring the specified table into focus. You can then scroll the table to select the desired column.</li>
                                                                <li value="3">If the column you want to select is not in the table, go to the Data Browser to pull the column. Then you can select the column as input to the function.</li>
                                                            </ul>
                                                            <p>For typing a column name:</p>
                                                            <ul>
                                                                <li value="1">Always start with the dollar sign ($).</li>
                                                                <li value="2">Always include the prefix if one exists. (A derived column does not have a column name prefix.) </li>
                                                                <li value="3">To specify the resultant column name, type the name without preceding it with the dollar sign ($).</li>
                                                                <li value="4">To avoid mistakes when typing a column name, place the insertion point in the argument field, move your cursor to the active table and click anywhere in the desired column. The column's name is automatically entered for you.</li>
                                                                <li value="5">If an operand accepts a column name, it also accepts the aggregate name that you created when you calculated the aggregate value for a column. </li>
                                                            </ul>
                                                            <p>For typing an operand value:</p>
                                                            <ul>
                                                                <li value="1">In most cases, do not surround the value with quote marks, even if it is a string with a space. In cases where the function can evaluate the value as a string or numeric value, use the quote marks.&#160;You can check the syntax displayed in the panel.&#160;The syntax displays the quote marks for an operand if the operand is to be interpreted as a string.</li>
                                                                <li value="2">If the string contains  the backslash (\) or double quote mark ("), escape the character with a backslash (\). Not doing so causes an error message, indicating that the input string is a malformed evaluation string.</li>
                                                                <li value="3">The $ character has special meaning in <span class="GeneralGUIName1">Xcalar Design</span>: It denotes a column name. If your input string starts with $, escape it with a backslash (\).</li>
                                                                <li value="4">The caret (^) has  special meaning in <span class="GeneralGUIName1">Xcalar Design</span>:&#160;It denotes a named aggregate value. If your input string starts with a caret, escape it with a backslash (\).</li>
                                                            </ul>
                                                            <p>In the panel, you can undo any typing with the undo key or key combination that you normally use in your browser.</p>
                                                        </div>
                                                    </div>
                                                    <p>Boolean values are case-insensitive. For example, in an input field that accepts a Boolean value, you can type true, True, false, or False.</p>
                                                </li>
                                                <li value="2">
                                                    <p>In the <span class="UIelement">MAP</span> panel, follow these steps to select the function:</p>
                                                    <ol style="list-style-type: lower-alpha;">
                                                        <li value="1">Select the category. The functions in the selected category are displayed.</li>
                                                        <li value="2">
                                                            <p>Select the function.</p>
                                                            <div class="Example"><span class="label">TIP:</span>&#160;You can quickly locate a function by typing its name or part of a its name in the <span class="UIelement">Search map functions...</span> field. Functions with a matching name are displayed in the <span class="UIelement">Category</span> and <span class="UIelement">Function</span> columns.</div>
                                                        </li>
                                                        <li value="3">
                                                            <p>Accept the default name for the new column or enter a new name.</p>
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li value="3">Based on the description of the function, fill out the operand fields. </li>
                                                <li value="4">Accept the default name for the new column or enter a new name.</li>
                                                <li value="5">(Optional)&#160;Select <span class="UIelement">Include only erroneous rows</span> if you want to filter the resultant table such that only erroneous rows are included. For more information about erroneous rows, see <a href="H_ErroneousRows.htm" class="MCXref xref" xrefformat="{para}">Creating a table with only erroneous rows</a>.</li>
                                                <li value="6">Click <span class="UIelement">MAP</span>.</li>
                                            </ol>
                                            <h3>Example of using the type-casting function</h3>
                                            <p>After you select the <span class="UIelement">Map…</span> option in the column drop-down menu, the <span class="UIelement">MAP</span> panel is displayed. </p>
                                            <p>Follow these steps to create a column with the desired data type:</p>
                                            <ol>
                                                <li value="1">In the <span class="UIelement">Table</span> field, if the desired table name is not already displayed, click the down arrow to display a list of tables and then select the desired table.</li>
                                                <li value="2">In the <span class="UIelement">Category</span> field, select <span class="UIelement">type-casting</span>.</li>
                                                <li value="3">In the <span class="UIelement">Function</span> field, select the desired data type.</li>
                                                <li value="4">
                                                    <p>The first argument (x) is the active column name by default. You can accept the default or enter the name for another column whose data type will be changed. </p>
                                                    <p>If the desired data type is integer, enter the base as the second argument. For example, for base 10, type <span class="UIelement">10</span>; for binary, type <span class="UIelement">2</span>. </p>
                                                </li>
                                                <li value="5">Type a column name in the <span class="UIelement">New Resultant Column Name</span> field.</li>
                                                <li value="6">If you are interested only in the rows where the <span class="UIelement">Map</span> function fails, select <span class="UIelement">Include only erroneous rows</span>. For example, if you want to know if there are values in a particular column that cannot be type cast into Integer, select this option. The resultant table will contain only rows with data in this column that cannot be changed by the Map function.</li>
                                                <li value="7">
                                                    <p>Click <span class="UIelement">Map</span>. A new column is created with the new data type. </p>
                                                    <div class="Note"><span class="label">NOTE:</span>&#160;If you did not enter the second argument,  an error message is displayed, requiring you to click the <span class="UIelement">No Argument</span> check box. After you click the check box, click Map.</div>
                                                </li>
                                            </ol>
                                            <p>The following sample <span class="UIelement">Map</span> panel illustrates how you can change the data type  to integer.</p>
                                            <p>
                                                <img src="../Resources/Images/XD_screenshots/map-change-data-type.png" />
                                            </p>
                                            <h2><a name="Using"></a>Using Map on an unpopulated column</h2>
                                            <p>After you add a blank column to your table, the column contains no values and the column's data type is Unknown. You can initiate a Map function from such a column. However, not all functions displayed in the <span class="UIelement">MAP</span> panel accepts an operand whose type is Unknown. The following partial screenshot shows an example of a newly added column containing no values. </p>
                                            <p>
                                                <img src="../Resources/Images/XD_screenshots/column-unknown-type.png" />
                                            </p>
                                            <h3>Result  of Map initiated from an unpopulated column</h3>
                                            <p>Typically a Map function creates a new column containing values based on the input column. But if you run a Map function from an unpopulated column, the resultant column replaces the unpopulated column. </p>
                                            <p>For example, from the unpopulated column, you can start the <span class="UIelement">MAP</span>&#160;panel to create a column of a particular data type, as illustrated in the following screenshot:</p>
                                            <p>
                                                <img src="../Resources/Images/XD_screenshots/blank-column-change-datatype.png" />
                                            </p>
                                            <p>After the function is finished, the table contains a new column, as illustrated in the following screenshot:</p>
                                            <p>
                                                <img src="../Resources/Images/XD_screenshots/blank-column-cast-to-int.png" />
                                            </p>
                                        </div>
                                        <p><a href="#Top">Go to top</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Advanced tasks">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Optimizing memory usage</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <link href="../Fonts/open-sans.regular.ttf" rel="stylesheet" />
        <link href="../Fonts/OpenSans-Semibold.ttf" rel="stylesheet" />
        <link href="../Fonts/OpenSans-Light.ttf" rel="stylesheet" />
        <link href="../Fonts/OpenSans-Bold.ttf" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.topic-ratings-button
{
	-pie-background: transparent url('../../Skins/Default/Stylesheets/Images/star-full.png') no-repeat center center;
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.edit-user-profile-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/edit-profile.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div id="contentBody">
                                    <div class="row collapse">
                                        <div class="sideContent">
                                            <div class="clearfix">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Navigate next">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                        </button>
                                                        <div class="button-group star-buttons loading feedback-topic-required">
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                            <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                                <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                            </div>
                                                        </div>
                                                        <div class="button-separator">
                                                        </div>
                                                        <button class="button feedback-required login-button" id="normalLoginBtn" data-state1-class="login-button" data-state2-class="edit-user-profile-button" title="Login" data-state1-title="Login">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="login" />
                                                        </button>
                                                        <button class="button needs-pie print-button" title="Print">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/XD_help.js" data-mc-side-menu="True" data-mc-max-depth="-1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                            </ul>
                                        </div>
                                        <div class="nocontent">
                                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                            </div>
                                        </div>
                                        <div class="bodyProxyNarrow">
                                            <h1>Optimizing memory usage</h1>
                                            <p><span class="GeneralGUIName1">Xcalar Design</span> displays a low-memory notification when <span class="GeneralProductName3">Xcalar</span> reaches a pre-defined level of memory consumption. It is important for you to optimize memory usage  to ensure that <span class="GeneralProductName3">Xcalar</span> can run at the highest performance level possible. See <a href="I_UnderstandMemoryUse.htm" class="MCXref xref" xrefformat="{para}">Understanding memory usage</a> for more information about the low-memory notification and what steps to take in response to the notification.</p>
                                            <h2>Best practices for conserving memory</h2>
                                            <p><span class="GeneralGUIName1">Xcalar Design</span> users can follow these best practices to conserve memory: </p>
                                            <ul>
                                                <li value="1">Reduce the number of tables.</li>
                                                <li value="2">
                                                    <p>Reduce the number of fields in the <span class="UIelement">Data Browser</span>.</p>
                                                    <div class="Note"><span class="label">NOTE</span>:&#160;Fields that come from your dataset cannot be removed individually. For example, if your dataset has two fields:&#160;<span class="UIelement">Carrier</span> and <span class="UIelement">Description</span>, you cannot remove only the <span class="UIelement">Carrier</span> field and keep the <span class="UIelement">Description</span> field to try to reduce the number of fields. </div>
                                                </li>
                                            </ul>
                                            <p>More detailed information about these best practices are provided in the sections that follow.</p>
                                            <h2>Effects of tables on memory consumption</h2>
                                            <p>Each table in your workbooks consumes memory regardless of the table's status, which can be active or temporary. Keeping only the tables required for modeling your queries helps conserve memory. </p>
                                            <h2>Methods for dropping tables</h2>
                                            <p>You can drop tables with these methods:</p>
                                            <ul>
                                                <li value="1">Display the <span class="label">Tables</span> panel from the <span class="UIelement">Worksheets</span> icon. Then select the tables to drop. See <a href="../B_CommonTasks/N_ChangeTableStatus.htm" class="MCXref xref" xrefformat="{para}">Understanding and changing table statuses</a> for more information about the <span class="UIelement">Tables</span> panel.</li>
                                                <li value="2">In the dataflow graph, right-click a table icon to display a pop-up menu. Select <span class="UIelement">Drop Table</span> to remove the table from the worksheet. This method enables you to see how the table was created or modified when you performed the modeling.</li>
                                                <li value="3">In the active worksheet, locate the table to drop, and right-click the table title bar to display a drop-down menu. Then select <span class="UIelement">Drop Table</span>.</li>
                                                <li value="4">Click  <span class="UIelement">Monitor</span> in the toolbar and then the <span class="UIelement">System</span> icon. In the <span class="UIelement">System</span> panel, click the <span class="UIelement">Release Memory</span> icon to display the <span class="UIelement">Drop Tables</span>&#160;modal window, which lists all tables in your workbook and the amount of memory used by each . See <a href="I_UnderstandMemoryUse.htm" class="MCXref xref" xrefformat="{para}">Understanding memory usage</a> for more information about the <span class="UIelement">Drop Tables</span>&#160;modal window.</li>
                                            </ul>
                                            <h2>Effects of table columns displayed on memory used</h2>
                                            <p>The number of columns displayed in a table has no significant effect on memory consumption.&#160;For example, from the same dataset, you can create two tables:&#160;one with 2 columns and one with 15 columns. Both tables use the same amount of memory, which is 16 MB. The following screenshots show the columns in the tables and the amount of memory used by each table.</p>
                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../Resources/Images/XD_screenshots/tables-diff-cols-same-memory.png"><img class="MCPopupThumbnail img imgBigImage" data-mc-width="1140" data-mc-height="590" src="../Resources/Images/XD_screenshots/tables-diff-cols-same-memory_thumb_0_150.png" tabindex="" /></a>
                                            </p>
                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../Resources/Images/XD_screenshots/tables-same-memory-used.png"><img class="MCPopupThumbnail img imgBigImage" data-mc-width="598" data-mc-height="609" src="../Resources/Images/XD_screenshots/tables-same-memory-used_thumb_0_150.png" tabindex="" /></a>
                                            </p>
                                            <h2>How the number of fields affects memory consumption</h2>
                                            <p>Each table consists of columns created from the data source. The table's <span class="UIelement">Data Browser</span> shows all the fields that you can pull to create table columns.  Initially, each table you create from a data source consumes the same amount of memory, because each table's <span class="UIelement">Data Browser</span> contains only the fields from the data source, which are the prefixed fields. This group of prefixed fields consumes a fixed amount of memory, regardless of how many fields are in the group. </p>
                                            <p>Operations you perform on a table create derived columns in the resultant table. These columns are added in the resultant table's <span class="UIelement">Data Browser</span> as derived fields. Each derived field consumes additional memory.</p>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;A table resulting from a batch dataflow does not have prefixed fields.&#160;The <span class="UIelement">Data Browser</span> for this table consists of only derived fields.</div>
                                            <div class="Example"><span class="label">Example</span>: A two-column table is created from a dataset with two fields:&#160;<span class="UIelement">airlines::Destination</span> and <span class="UIelement">airlines::Distance</span>. If no operations have created columns in this table, the table  uses 2.2 MB of memory. Suppose you change the <span class="UIelement">Distance</span> column's data type to integer. A new table is created with a derived column named <span class="UIelement">Distance</span>. In the <span class="UIelement">Data Browser</span>&#160;for this table, the field <span class="UIelement">airlines::Distance</span> remains in the prefixed fields section, and a new field named <span class="UIelement">Distance</span> is added in the derived fields section. The new table with this additional derived field consumes 4.2 MB of memory. The more columns your operations create, the more  memory is used.</div>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;Hiding a column does not free up memory. For example, if you hide the derived column named <span class="UIelement">Distance</span> in the example above, the table continues to use 4.2 MB of memory.</div>
                                            <h2><a name="Removing"></a>Removing fields from memory</h2>
                                            <p>Because the number of fields, as shown in the <span class="UIelement">Data Browser</span>, has an impact on memory used, the logical step to conserve memory is to reduce the number of fields. However,  as far as memory consumption is concerned, the collection of fields from the data source (that is, the prefixed fields) is considered one unit. You cannot selectively remove some fields in that collection. You can  either keep or  eliminate the collection in its entirety.</p>
                                            <p>To reduce the number of fields,  use the <span class="UIelement">Project…</span> option in the column menu. This option enables you to keep only columns of interest in a table, removing unnecessary ones from memory. </p>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;You can perform projections on any columns  in an active table to reduce clutter. However, the main purpose of projection is to optimize memory usage.</div>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;The term "projection"&#160;originates from relational algebra. Its meaning in <span class="GeneralGUIName1">Xcalar Design</span> should be clearly distinguished from its meaning in daily usage.</div>
                                            <h3>Projecting selected columns</h3>
                                            <p>Follow these steps to project only columns that interest you:</p>
                                            <ol>
                                                <li value="1">Click a column header to display the drop-down menu.</li>
                                                <li value="2">Select <span class="UIelement">Project…</span>. The <span class="UIelement">PROJECT</span> panel is displayed.</li>
                                                <li value="3">In the <span class="UIelement">PROJECT</span> panel, either accept the table name or select another table for which you want to perform the projection.</li>
                                                <li value="4">Select the columns you want to keep. You can select individual derived columns. For prefixed columns, select or unselect them as a group.</li>
                                                <li value="5">Click <span class="UIelement">PROJECT</span>. The columns not projected are no longer displayed in the table. They are also removed from the <span class="UIelement">Data Browser</span>.</li>
                                            </ol>
                                            <h3>Example of projection on derived fields</h3>
                                            <p>The <span class="UIelement">Data Browser</span> shows 19 fields, and 4 fields  are derived fields such as <span class="UIelement">DayOfWeek_integer</span>, <span class="UIelement">DepTime_integer</span>, <span class="UIelement">DepTime_integer</span>, and so on. These derived fields are created due to operations, such as Map. The rest (15 fields) are from the collection of fields in the source dataset. They are <span class="UIelement">airlines::MonthDayYear</span>, <span class="UIelement">airlines::Distance</span>, <span class="UIelement">airlines::DepTime</span>, and so on.</p>
                                            <p>Suppose you perform a projection on <span class="UIelement">DayOfWeek_integer</span> and <span class="UIelement">DepTime_integer</span>, the resultant table contains only these columns. All fields except for <span class="UIelement">DayOfWeek_integer</span> and <span class="UIelement">DepTime_integer</span> are eliminated. The resultant table now consumes much less memory than the table before the projection. For the resultant table, the <span class="GeneralProductName3">Xcalar</span> cluster no longer needs memory to track all 4 derived fields and the collection of prefixed fields.</p>
                                            <h3>Example of projection on prefixed fields</h3>
                                            <p>You cannot choose individual entries from the list of prefixed fields to project. The set of prefixed fields is eliminated or retained as one unit through projection. The prefixed fields consume a fixed amount of memory, which is about the same as that consumed by a derived field.</p>
                                            <p>Suppose you are only interested in <span class="UIelement">airlines::Distance</span> and <span class="UIelement">airlines::MonthDayYear</span>, you cannot project these fields and discard other prefixed fields such as <span class="UIelement">airlines::Carrier</span> and <span class="UIelement">airlines::FlightNum</span>. <span class="GeneralProductName3">Xcalar</span> must keep the entire collection of prefixed fields. After the projection, the unselected derived fields no longer exist in the table or the <span class="UIelement">Data Browser</span>.  The projection frees up memory that otherwise would be needed to track 4 derived fields.</p>
                                        </div>
                                        <p><a href="#Top">Go to top</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
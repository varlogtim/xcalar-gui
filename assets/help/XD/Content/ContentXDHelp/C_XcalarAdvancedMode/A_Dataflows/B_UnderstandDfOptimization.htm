<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Dataflow Mode|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Understanding a dataflow with optimization</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js">
        </script>
        <script src="../../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="content">
                                        <p><a name="top"></a>
                                        </p>
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="sideContent">
                                                    <div class="clearfix">
                                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                            <div class="button-group-container-left">
                                                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                                </button>
                                                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                                </button>
                                                                <div class="button-separator">
                                                                </div>
                                                                <button class="button needs-pie print-button" title="Print">
                                                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                    </div>
                                                </div>
                                                <h1>Understanding a dataflow with optimization</h1>
                                                <p> When executing a dataflow with optimization, <span class="GeneralProductName3">Xcalar</span> produces results most efficiently without saving any intermediate results. </p>
                                                <p><span class="UIelement">Execute a dataflow with optimization</span> if  you have finalized your dataflow and you are more interested in the final results rather than the results of the intermediate Nodes. </p>
                                                <p><span class="UIelement">Execute a dataflow without optimization</span> when you are still developing and debugging your dataflow. Without optimization, the execution generates a result set for each Node. Consequently, you can examine all the intermediate results to determine whether the Nodes are configured correctly, ordered properly, and so on.</p>
                                                <h2 class="noPageBreak">Features of executing a dataflow with optimization</h2>
                                                <p>The following list describes what happens when you execute a dataflow with optimization:</p>
                                                <ul>
                                                    <li value="1">If the first Node of the dataflow is a Dataset Node, an optimized execution re-imports data from the data source and all subsequent operations use the latest data from that import. <span class="GeneralProductName3">Xcalar</span> only re-imports the data that is required to execute the dataflow.  Unused fields are not imported and therefore consume no memory. Without optimization, the execution uses the data that was imported when the Dataset Node was first created. </li>
                                                    <li value="2"><span class="GeneralProductName3">Xcalar</span> uses an optimizer during the execution of the dataflow, enabling all operations to produce results in the most efficient manner.</li>
                                                    <li value="3"> <span class="GeneralProductName3">Xcalar</span> automatically performs serialization if necessary when executing an optimized dataflow therefore  avoiding the risk of out-of-memory problems.</li>
                                                </ul>
                                                <p>After you execute a dataflow with optimization, you cannot re-execute it with optimization. If you try to do so, <span class="GeneralProductName3">Xcalar</span> notifies you that an optimized execution already took place. To re-execute an already executed dataflow with optimization, click on the <span class="UIelement">Link Out Optimized</span> Node or the <span class="UIelement">Export Optimized</span> Node and select <span class="UIelement">Reset</span> from the drop-down. The status indicator of the Node turns yellow and now you can execute it with optimization again.</p>
                                                <h2 class="noPageBreak"><a name="Requirem"></a>Requirements for  an optimized execution</h2>
                                                <p>For a dataflow to be executed with optimization, it must meet all of the following  requirements:</p>
                                                <ul>
                                                    <li value="1">The dataflow must contain at least one Link Out Optimized Node or one Export Optimized Node.</li>
                                                    <li value="2">
                                                        <p>The dataflow must not contain any sub-dataflows except if the sub-dataflow ends in a <span class="UIelement">Single Value</span> aggregate Node. For example, in the following screenshot, Dataflow 5 contains two sub-dataflows. &#160;You cannot perform an optimized execution on Dataflow 5. You can, however, execute each sub-dataflow with optimization. </p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/dataflow-subdataflows-no-optimization.png" alt="" title="" />
                                                        </p>
                                                    </li>
                                                    <li value="3">
                                                        <p>The dataflow must not contain a terminal Node that is not a Link Out Optimized or an Export Optimized or a Single Value Node. For example, in the following screenshot, the dataflow cannot be executed with optimization because one of the terminal Nodes is a filter Node.</p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/dataflow-terminal-node-no-optimization.png" alt="" title="" />
                                                        </p>
                                                    </li>
                                                    <li value="4">
                                                        <p>The dataflow must not contain multiple Link Out Optimized Nodes. For example, in the following screenshot, the dataflow cannot be executed with optimization because it  has two Link Out Optimized Nodes.</p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/dataflow-multiple-link-out.png" alt="" title="" />
                                                        </p>
                                                    </li>
                                                    <li value="5">
                                                        <p>The dataflow must not contain both Link Out Optimized and Export Optimized Nodes. For example, in the following screenshot, the dataflow cannot be executed with optimization because it has a mix of Link Out Optimized and Export Optimized Nodes.</p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/dataflow-mixed-export-and-link-out.png" alt="" title="" />
                                                        </p>
                                                        <p>However, the dataflow can be executed with optimization if it contains  multiple Export Optimized Nodes. </p>
                                                    </li>
                                                </ul>
                                                <h2 class="noPageBreak"><a name="Executin"></a>Executing a dataflow with optimization</h2>
                                                <p>You can start the execution of a dataflow with optimization in one of the following ways:</p>
                                                <ul>
                                                    <li value="1">Execute a <span class="UIelement">Link Out Optimized</span> Node or an <span class="UIelement">Export Optimized</span> Node by right clicking on the Node and selecting <span class="UIelement">Execute Optimized</span>.</li>
                                                    <li value="2">Execute all operations in a dataflow by clicking the <span class="UIelement">Execute All Optimized</span> icon on top of the window.</li>
                                                </ul>
                                                <h2 class="noPageBreak"><a name="Optimize"></a>Optimized dataflow tab</h2>
                                                <p>If you execute a <span class="UIelement">Link Out Optimized</span> or an <span class="UIelement">Export Optimized Node</span> in a dataflow, a copy of the dataflow is made and displayed in a new optimized dataflow tab. The title for this dataflow tab is in italics, indicating that you cannot rename or edit it. This new dataflow may look a little different than the original dataflow because it's an optimized version of the original dataflow. </p>
                                                <p>After the optimized execution, each Node in the optimized dataflow gets a green status indicator. The status indicators of the Nodes (except the terminal Node) in the original dataflow do not change because <span class="GeneralProductName3">Xcalar</span> executes the optimized copy of the original dataflow and not the original dataflow. However, you can still view the results of the optimized execution in the terminal Node of the original dataflow. </p>
                                                <p>If the Node status is green, you can view the optimized dataflow by right clicking on the <span class="UIelement">Link Out Optimized</span> or the <span class="UIelement">Export Optimized Node</span> and select <span class="UIelement">View Optimized Dataflow</span>.  If the status is not green, and you select <span class="UIelement">View Optimized Dataflow</span>, you get an error message that the optimized dataflow does not exist.</p>
                                                <p>The following list describes what you can do in the new optimized dataflow tab:</p>
                                                <ul>
                                                    <li value="1">  Inspect  the configuration and the statistics of each Node.</li>
                                                    <li value="2">Download an image of the dataflow or the operations statistics of the dataflow. For more information, see <a href="D2_DownloadDf.htm" class="MCXref xref" xrefformat="{para}">Downloading a dataflow</a>.</li>
                                                    <li value="3">
                                                        <p>Copy Nodes (except the dataset Nodes) from this dataflow and paste them to another dataflow.</p>
                                                        <div class="Note"><span class="label">NOTE</span>:&#160;If you copy  a Dataset Node from an optimized dataflow, you cannot execute it with its configuration. Copy and paste only the non-Dataset Nodes from an optimized dataflow. </div>
                                                    </li>
                                                </ul>
                                                <p><a href="#top">Go to the top</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
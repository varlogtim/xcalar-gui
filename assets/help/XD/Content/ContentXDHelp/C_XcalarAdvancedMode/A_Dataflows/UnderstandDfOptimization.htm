<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Dataflow Mode|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Understanding a dataflow with optimization</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" defer="defer">
        </script>
        <script src="../../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <main id="main" class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="content">
                                        <p><a name="top"></a>
                                        </p>
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="sideContent">
                                                    <div class="clearfix">
                                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                            <div class="button-group-container-left">
                                                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                    <img alt="Navigate previous" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                    <img alt="Navigate next" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <div class="button-separator">
                                                                </div>
                                                                <button class="button needs-pie print-button" title="Print">
                                                                    <img alt="Print" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                    </div>
                                                </div>
                                                <h1>Understanding a dataflow with optimization</h1>
                                                <p> When executing a dataflow with optimization, <span class="GeneralProductName3">Xcalar</span> produces the final result in the most efficient manner without saving any intermediate results. </p>
                                                <p><span class="UIelement">Execute a dataflow with optimization</span> if  you have finalized your dataflow and you are more interested in the final result rather than the results of the intermediate Nodes. </p>
                                                <p><span class="UIelement">Execute a dataflow without optimization</span> when you are still developing and debugging your dataflow. Without optimization, the execution generates a result set for each Node. Consequently, you can examine all the intermediate results to determine whether the Nodes are configured correctly, ordered properly, and so on.</p>
                                                <h2 class="noPageBreak">Features of executing a dataflow with optimization</h2>
                                                <p>The following list describes what happens when you execute a dataflow with optimization:</p>
                                                <ul>
                                                    <li value="1">If the first Node of the dataflow is a Dataset Node, an optimized execution re-imports data from the data source and all subsequent operations use the latest data from that import. <span class="GeneralProductName3">Xcalar</span> re-imports only the data that is required to execute the dataflow.  Unused fields are not imported and therefore consume no memory. Without optimization, the execution uses the data that was imported when the Dataset Node was first created. </li>
                                                    <li value="2"><span class="GeneralProductName3">Xcalar</span> uses an optimizer during the execution of the dataflow, enabling all operations to produce results in the most efficient manner.</li>
                                                    <li value="3"> <span class="GeneralProductName3">Xcalar</span> automatically performs serialization if necessary when executing an optimized dataflow therefore  avoiding the risk of out-of-memory problems.</li>
                                                </ul>
                                                <h2 class="noPageBreak">Requirements for  an optimized execution</h2>
                                                <p>For a dataflow to be executed with optimization, it must meet all of the following  requirements:</p>
                                                <ul>
                                                    <li value="1">The dataflow must contain at least one <span class="UIelement">Link Out </span>Node or one <span class="UIelement">Export</span> Node.</li>
                                                    <li value="2">
                                                        <p>The dataflow must not contain any sub-dataflows except if the sub-dataflow ends in a <span class="UIelement">Single Value</span> aggregate Node. For example, in the following screenshot, Dataflow 2 contains two sub-dataflows. &#160;You cannot perform an optimized execution on Dataflow 2. You can, however, execute each sub-dataflow with optimization. </p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/xd-req-optimized-exe-1.png" />
                                                        </p>
                                                    </li>
                                                    <li value="3">
                                                        <p>The dataflow must not contain a terminal Node that is not a <span class="UIelement">Link Out</span> or an <span class="UIelement">Export</span> or a <span class="UIelement">Single Value</span> Node. For example, in the following screenshot, the dataflow cannot be executed with optimization because one of the terminal Nodes is a <span class="UIelement">Filter</span> Node.</p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/xd-req-optimized-exe-2.png" />
                                                        </p>
                                                    </li>
                                                    <li value="4">
                                                        <p>The dataflow must not contain multiple <span class="UIelement">Link Out</span> Nodes. For example, in the following screenshot, the dataflow cannot be executed with optimization because it  has two <span class="UIelement">Link Out</span> Nodes.</p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/xd-req-optimized-exe-3.png" />
                                                        </p>
                                                    </li>
                                                    <li value="5">
                                                        <p>The dataflow must not contain both <span class="UIelement">Link Out</span> and <span class="UIelement">Export</span> Nodes. For example, in the following screenshot, the dataflow cannot be executed with optimization because it has a mix of <span class="UIelement">Link Out</span> and <span class="UIelement">Export</span> Nodes.</p>
                                                        <p>
                                                            <img src="../../../Resources/Images/XD_screenshots/xd-req-optimized-exe-4.png" />
                                                        </p>
                                                        <p>However, the dataflow can be executed with optimization if it contains  multiple <span class="UIelement">Export</span> Nodes. </p>
                                                    </li>
                                                </ul>
                                                <h2 class="noPageBreak"><a name="Executin"></a>Executing a dataflow with optimization</h2>
                                                <p>You can start the execution of a dataflow with optimization in one of the following ways:</p>
                                                <ul>
                                                    <li value="1">Execute a <span class="UIelement">Link Out</span> Node or an <span class="UIelement">Export</span> Node by right clicking the Node and selecting <span class="UIelement">Create Optimized Dataflow</span>.</li>
                                                    <li value="2">Execute all operations in a dataflow by deselecting all Nodes, right clicking on an empty space in the dataflow canvas, and selecting <span class="UIelement">Create Optimized Dataflow</span>.</li>
                                                </ul>
                                                <h2 class="noPageBreak"><a name="Optimize"></a>Understanding an optimized dataflow tab</h2>
                                                <p>When you click the <span class="UIelement">Create Optimized Dataflow</span> option in a dataflow, an optimized copy of the dataflow is created and executed in a new dataflow tab. This new dataflow may look a little different than the original dataflow because it is an optimized version of the original dataflow. </p>
                                                <p>The status indicator of each Node in the optimized dataflow changes as per the result of the execution. The status indicators of the Nodes in the original dataflow do not change because <span class="GeneralProductName3">Xcalar</span> executes the optimized copy of the original dataflow and not the original dataflow. To see the original dataflow that created the optimized dataflow, unselect all the Nodes of the optimized dataflow, right click an empty canvas space and select <span class="UIelement">Find Original Dataflow</span>. A modal window displays the original dataflow name.</p>
                                                <p>The following list describes what you can do in an optimized dataflow tab:</p>
                                                <ul>
                                                    <li value="1">  Double click and edit the tab name just like any other dataflow. </li>
                                                    <li value="2">Inspect  the configuration and the statistics of each Node.</li>
                                                    <li value="3">View the final result of the dataflow.</li>
                                                    <li value="4">Download an image or the operation statistics of the dataflow. For more information, see <a href="DownloadDf.htm" class="MCXref xref" xrefformat="{para}">Downloading a dataflow</a>.</li>
                                                    <li value="5">
                                                        <p>Copy Nodes (except the dataset Nodes) from this dataflow and paste them in another dataflow.</p>
                                                        <div class="Note"><span class="label">NOTE</span>:&#160;If you copy  a Dataset Node from an optimized dataflow, you cannot execute it with its original configuration. Copy and paste only the non-Dataset Nodes from an optimized dataflow. </div>
                                                    </li>
                                                </ul>
                                                <h2 class="noPageBreak">Next step</h2>
                                                <p>The next step is to understand and work with the result sets as described in <a href="WorkingWithResults.htm" class="MCXref xref" xrefformat="{para}">Working with result sets in Dataflow Mode</a>.</p>
                                                <p><a href="#top">Go to the top</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
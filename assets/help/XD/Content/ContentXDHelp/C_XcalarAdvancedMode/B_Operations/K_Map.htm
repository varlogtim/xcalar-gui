<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Advanced Mode|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Using the Map function to create new values</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js">
        </script>
        <script src="file://vmware-host/Shared Folders/florencechan On My Mac/xcalar-docs/FlareTemplates/Template-Sept2018/Content/Scripts/expandSideNavTopics.js">
        </script>
        <script src="../../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="content">
                                        <p><a name="top"></a>
                                        </p>
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="sideContent">
                                                    <div class="clearfix">
                                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                            <div class="button-group-container-left">
                                                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                                </button>
                                                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                                </button>
                                                                <div class="button-separator">
                                                                </div>
                                                                <button class="button needs-pie print-button" title="Print">
                                                                    <img src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                    </div>
                                                </div>
                                                <h1>Using the Map function to create new values</h1>
                                                <p>The Map function is divided into categories of functions that  create new values to help you derive meaning from your dataset. The new values can be based on one or multiple selected columns. For example, you can perform an arithmetic calculation from values in two selected columns to create a third column that contains the results of the calculation. The new value may also be generated without any input. For example, you can generate a column of unique, random values.</p>
                                                <p>This section describes the steps for performing a Map function. For descriptions of all Map functions, see <a href="../../E_Reference/I_MapFunctions.htm" class="MCXref xref" xrefformat="{para}">Map functions</a>.</p>
                                                <div class="Note"><span class="label">IMPORTANT</span>:&#160;Many  Map functions work in a similar way as Microsoft Excel functions. However, there might be differences, such as differences in the  number of operands accepted.&#160;Do not assume that the  Map functions are identical to the Excel functions even though they share the same name. </div>
                                                <h2 class="noPageBreak">How a Map function works on Mixed, Array, or Object columns</h2>
                                                <p>If you use a Mixed column as input to a Map function, the function is run on the cells of a data type appropriate for the function. For all other cells, the function returns FNF (field not found). For example, if a Mixed column is the input for the div function, the division is performed only on numerical cells. FNF&#160;is displayed for each non-numerical cell in the resultant column. If you use an Array or Object column as input to a Map function, the input value is treated as FNF. </p>
                                                <p>For more information about FNF, see <a href="P_UnderstandFNF.htm" class="MCXref xref" xrefformat="{para}">Working with a result set containing FNF</a>.</p>
                                                <h2 class="noPageBreak">Creating a column</h2>
                                                <p>Follow these steps to create a column with the Map operation in Advanced Mode:</p>
                                                <ol>
                                                    <li value="1">
                                                        <p>There are two ways of creating a column with the Map operation - starting from a result set or starting from a <span class="UIelement">Map</span> node:</p>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">
                                                                <p><span class="UIelement">Starting from a result set</span>: Right click the header of the result set column from which you want to create new values. In the drop-down menu, select <span class="UIelement">Map…</span>. The <span class="UIelement">Map</span>&#160;panel is displayed. </p>
                                                            </li>
                                                            <li value="2">
                                                                <p><span class="UIelement"> Starting from a Map node</span>: Select <span class="UIelement">Column Ops</span> from the Advanced Mode Toolbar. Drag the <span class="UIelement">Map</span> node into the dataflow canvas. Connect a result set node to the <span class="UIelement">Map</span> node. Right click on the <span class="UIelement">Map</span> node and select <span class="UIelement">Configure</span> in the drop-down menu. The <span class="UIelement">Map</span>&#160;panel is displayed.</p>
                                                            </li>
                                                        </ol>
                                                    </li>
                                                    <li value="2">
                                                        <p>In the <span class="UIelement">Map</span> panel, follow these steps to select the function:</p>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Select a category. The functions in the selected category are displayed.</li>
                                                            <li value="2">
                                                                <p>Select a function.</p>
                                                                <div class="Example"><span class="label">TIP:</span>&#160;You can quickly locate a function by typing its name or part of a its name in the <span class="UIelement">Search map functions...</span> field. Functions with a matching name are displayed in the <span class="UIelement">Category</span> and <span class="UIelement">Function</span> columns.</div>
                                                            </li>
                                                        </ol>
                                                    </li>
                                                    <li value="3">Based on the description of the function, fill out the operand fields. </li>
                                                    <li value="4">Accept the default name for the new column or enter a new name.</li>
                                                    <li value="5">(Optional)&#160;Select <span class="UIelement">Include only erroneous rows</span> if you want to filter the resultant table such that only erroneous rows are included. For more information about erroneous rows, see <a href="H_ErroneousRows.htm" class="MCXref xref" xrefformat="{para}">Creating a result set with only erroneous rows</a>.</li>
                                                    <li value="6">
                                                        <p>Click <span class="UIelement">Save</span>. The Node configuration is saved and a new result set is displayed when the Node executes. </p>
                                                        <p><span class="label">NOTE:</span>You&#160;can replace an existing derived column using the <span class="UIelement">Map</span> function if you use it in the <span class="UIelement">New Resultant Column Name</span>.</p>
                                                    </li>
                                                </ol>
                                                <h3>Example of using the type-casting function</h3>
                                                <p>After you select the <span class="UIelement">Map…</span> option in the column drop-down menu, the <span class="UIelement">Map</span> panel is displayed. </p>
                                                <p>Follow these steps to create a column with the desired data type:</p>
                                                <ol>
                                                    <li value="1">In the <span class="UIelement">Category</span> field, select <span class="UIelement">type-casting</span>.</li>
                                                    <li value="2">In the <span class="UIelement">Function</span> field, select the desired data type.</li>
                                                    <li value="3">
                                                        <p>The first argument (x) is the active column name by default. You can accept the default or enter the name for another column whose data type will be changed. </p>
                                                        <p>If the desired data type is integer, enter the base as the second argument. For example, for base 10, type <span class="UIelement">10</span>; for binary, type <span class="UIelement">2</span>. </p>
                                                    </li>
                                                    <li value="4">Type a column name in the <span class="UIelement">New Resultant Column Name</span> field or accept the default new name.</li>
                                                    <li value="5">If you are interested only in the rows where the <span class="UIelement">Map</span> function fails, select <span class="UIelement">Include only erroneous rows</span>. For example, if you want to know if there are values in a particular column that cannot be type cast into Integer, select this option. The resultant result set will contain only rows with data in this column that cannot be changed by the <span class="UIelement">Map</span> function.</li>
                                                    <li value="6">
                                                        <p>Click <span class="UIelement">Save</span>. The configuration is saved and a new result set with new column is displayed when the Node executes.  </p>
                                                        <div class="Note"><span class="label">NOTE:</span>&#160;If you did not enter the second argument,  an error message is displayed, requiring you to click the <span class="UIelement">No Argument</span> check box. After you click the check box, click Save.</div>
                                                    </li>
                                                </ol>
                                                <p>The following sample <span class="UIelement">Map</span> panel illustrates how you can change the data type  to integer.</p>
                                                <p>
                                                    <img src="../../../Resources/Images/XD_screenshots/xd-map-panel-example.png" />
                                                </p>
                                                <p><a href="#top">Go to the top</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
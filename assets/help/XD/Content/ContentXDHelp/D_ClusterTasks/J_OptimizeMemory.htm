<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Cluster tasks">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Optimizing memory usage</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapGlobal.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapDom.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapUtilities.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapXhr.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapTextEffects.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapSlideshow.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapFeedback.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapDefault.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapHelpSystem.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.Breadcrumbs.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.MiniToc.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.SideMenu.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapIndex.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapGlossary.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapParser.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapSearch.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapTopic.js">
        </script>
        <script src="file://vmware-host/Shared Folders/florencechan On My Mac/xcalar-docs/FlareTemplates/Template-Sept2018/Content/Scripts/expandSideNavTopics.js">
        </script>
        <script src="../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../HomeXDHelp.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div class="content">
                                    <div id="contentBody">
                                        <div class="row collapse">
                                            <div class="sideContent">
                                                <div class="clearfix">
                                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                        <div class="button-group-container-left">
                                                            <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                            </button>
                                                            <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                            </button>
                                                            <div class="button-separator">
                                                            </div>
                                                            <button class="button needs-pie print-button" title="Print">
                                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="nocontent">
                                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                </div>
                                            </div>
                                            <h1>Optimizing memory usage</h1>
                                            <p><span class="GeneralGUIName1">Xcalar Design</span> displays a low-memory notification when <span class="GeneralProductName3">Xcalar</span> reaches a pre-defined level of memory consumption. It is important for you to optimize memory usage  to ensure that <span class="GeneralProductName3">Xcalar</span> can run at the highest performance level possible. See <a href="I_UnderstandMemoryUse.htm" class="MCXref xref" xrefformat="{para}">Understanding memory usage</a> for more information about the low-memory notification and what steps to take in response to the notification.</p>
                                            <h2>Best practices for conserving memory</h2>
                                            <p><span class="GeneralGUIName1">Xcalar Design</span> users can follow these best practices to conserve memory: </p>
                                            <ul>
                                                <li value="1">Reduce the number of result sets.</li>
                                                <li value="2">
                                                    <p>Reduce the number of fields in the <span class="UIelement">Data Browser</span>.</p>
                                                </li>
                                            </ul>
                                            <p>More detailed information about these best practices are provided in the sections below.</p>
                                            <h2>Effects of result sets on memory consumption</h2>
                                            <p>Each result set in your workbooks consumes memory regardless of the its status, which can be active or temporary. Keeping only the result sets required for modeling your queries helps conserve memory. The number of columns displayed in a result set has no significant effect on memory consumption.&#160;For example, from the same dataset, you can create two result sets - one with 2 columns and the other with 15 columns. Both result sets use the same amount of memory. </p>
                                            <h2>How to drop a result set</h2>
                                            <p>Click  <span class="UIelement">System</span> in the toolbar and then the <span class="UIelement">Monitor</span> icon. In the <span class="UIelement">Monitor</span> panel, click the <span class="UIelement">Release Memory</span> to display the <span class="UIelement">Drop Result Sets</span>&#160;modal window, which lists all the result sets in your workbook and the amount of memory used by each . See <a href="I_UnderstandMemoryUse.htm#dropTablesModal" class="MCXref xref" xrefformat="{para}">Determining which result set to drop</a> for more information on which result sets to drop and how to drop them.</p>
                                            <h2>How the number of fields affects memory consumption</h2>
                                            <p>Each result set consists of columns created from the data source. The result set's <span class="UIelement">Data Browser</span> shows all the fields that you can pull to create result set columns.  Initially, each result set you create from a data source consumes the same amount of memory, because each result set's <span class="UIelement">Data Browser</span> contains only the fields from the data source, which are the prefixed fields. This group of prefixed fields consumes a fixed amount of memory, regardless of how many fields are in the group. </p>
                                            <p>Operations you perform on a result set create derived columns in the resultant result set. These columns are added in the resultant result set's <span class="UIelement">Data Browser</span> as derived fields. Each derived field consumes additional memory.</p>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;A result set resulting from a batch dataflow does not have prefixed fields.&#160;The <span class="UIelement">Data Browser</span> for this result set consists of only derived fields.</div>
                                            <div class="Example"><span class="label">Example</span>: A two-column result set is created from a dataset with two fields:&#160;<span class="UIelement">airlines::Destination</span> and <span class="UIelement">airlines::Distance</span>. If no operations have created columns in this result set, the result set uses 2.2 MB of memory. Suppose you change the <span class="UIelement">Distance</span> column's data type to integer. A new result set is created with a derived column named <span class="UIelement">Distance</span>. In the <span class="UIelement">Data Browser</span>&#160;for this result set, the field <span class="UIelement">airlines::Distance</span> remains in the prefixed fields section, and a new field named <span class="UIelement">Distance</span> is added in the derived fields section. The new result set with this additional derived field consumes 4.2 MB of memory. The more columns your operations create, the more  memory is used.</div>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;Hiding a column does not free up memory. For example, if you hide the derived column named <span class="UIelement">Distance</span> in the example above, the result set continues to use 4.2 MB of memory.</div>
                                            <h2><a name="Removing"></a>Removing fields from memory</h2>
                                            <p>Because the number of fields, as shown in the <span class="UIelement">Data Browser</span>, has an impact on memory used, the logical step to conserve memory is to reduce the number of fields. However,  as far as memory consumption is concerned, the collection of fields from the data source (that is, the prefixed fields) is considered one unit. You cannot selectively remove some fields in that collection. You can  either keep or  eliminate the collection in its entirety.</p>
                                            <p>To reduce the number of fields,  use the <span class="UIelement">Project…</span> option in the column menu. This option enables you to keep only columns of interest in a result set, removing unnecessary ones from memory. </p>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;You can perform projections on any columns  in an active result set to reduce clutter. However, the main purpose of projection is to optimize memory usage.</div>
                                            <div class="Note"><span class="label">NOTE</span>:&#160;The term "projection"&#160;originates from relational algebra. Its meaning in <span class="GeneralGUIName1">Xcalar Design</span> should be clearly distinguished from its meaning in daily usage.</div>
                                            <h3>Projecting selected columns</h3>
                                            <p>Follow these steps to project only columns that interest you:</p>
                                            <ol>
                                                <li value="1">Click a column header to display the drop-down menu.</li>
                                                <li value="2">Select <span class="UIelement">Project…</span>. The <span class="UIelement">PROJECT</span> panel is displayed.</li>
                                                <li value="3">In the <span class="UIelement">PROJECT</span> panel, either accept the result set name or select another result set for which you want to perform the projection.</li>
                                                <li value="4">Select the columns you want to keep. You can select individual derived columns. For prefixed columns, select or unselect them as a group.</li>
                                                <li value="5">Click <span class="UIelement">PROJECT</span>. The columns not projected are no longer displayed in the result set. They are also removed from the <span class="UIelement">Data Browser</span>.</li>
                                            </ol>
                                            <h3>Example of projection on derived fields</h3>
                                            <p>Suppose the <span class="UIelement">Data Browser</span> shows 19 fields, and 4 fields  are derived fields such as <span class="UIelement">DayOfWeek_integer</span>, <span class="UIelement">DepTime_integer</span>, <span class="UIelement">DepTime_integer</span>, and so on. These derived fields are created due to operations, such as Map. The rest (15 fields) are from the collection of fields in the source dataset. They are <span class="UIelement">airlines::MonthDayYear</span>, <span class="UIelement">airlines::Distance</span>, <span class="UIelement">airlines::DepTime</span>, and so on.</p>
                                            <p>If you perform a projection on <span class="UIelement">DayOfWeek_integer</span> and <span class="UIelement">DepTime_integer</span>, the resultant result set contains only these columns. All fields except for <span class="UIelement">DayOfWeek_integer</span> and <span class="UIelement">DepTime_integer</span> are eliminated. The resultant result set now consumes much less memory than the result set before the projection. For the resultant result set, the <span class="GeneralProductName3">Xcalar</span> cluster no longer needs memory to track all 4 derived fields and the collection of prefixed fields.</p>
                                            <h3>Example of projection on prefixed fields</h3>
                                            <p>You cannot choose individual entries from the list of prefixed fields to project. The set of prefixed fields is eliminated or retained as one unit through projection. The prefixed fields consume a fixed amount of memory, which is about the same as that consumed by a derived field.</p>
                                            <p>Suppose you are only interested in <span class="UIelement">airlines::Distance</span> and <span class="UIelement">airlines::MonthDayYear</span>, you cannot project these fields and discard other prefixed fields such as <span class="UIelement">airlines::Carrier</span> and <span class="UIelement">airlines::FlightNum</span>. <span class="GeneralProductName3">Xcalar</span> must keep the entire collection of prefixed fields. After the projection, the unselected derived fields no longer exist in the result set or the <span class="UIelement">Data Browser</span>.  The projection frees up memory that otherwise would be needed to track 4 derived fields.</p>
                                            <p><a href="#Top">Go to top</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
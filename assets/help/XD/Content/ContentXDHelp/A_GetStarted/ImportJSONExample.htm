<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Getting started|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Example of importing a JSON data source</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapGlobal.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapDom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapUtilities.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapXhr.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapTextEffects.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapSlideshow.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapFeedback.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapDefault.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAccessibility.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapHelpSystem.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.MiniToc.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapToc.SideMenu.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapIndex.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapGlossary.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapParser.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapSearch.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapTopic.js" defer="defer">
        </script>
        <script src="../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <main id="main" class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="content">
                                        <p><a name="top"></a>
                                        </p>
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="sideContent">
                                                    <div class="clearfix">
                                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                            <div class="button-group-container-left">
                                                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                    <img alt="Navigate previous" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                    <img alt="Navigate next" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <div class="button-separator">
                                                                </div>
                                                                <button class="button needs-pie print-button" title="Print">
                                                                    <img alt="Print" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                    </div>
                                                </div>
                                                <h1>Example of importing a JSON data source</h1>
                                                <p>A JSON data source can be imported into a dataset as well as into a table. However, if the JSON data contains arrays and objects, the process of importing into datasets and tables is slightly different. </p>
                                                <h2 class="noPageBreak">Importing a JSON file into a dataset</h2>
                                                <p>To import a JSON file into a dataset:</p>
                                                <ol>
                                                    <li value="1">Verify that you are in <span class="UIelement">Dataflow Mode</span>. If not, from the top menu bar of <span class="GeneralGUIName1">Xcalar Design</span>, click the mode switch to display the <span class="UIelement">Dataflow Mode</span> workspace.</li>
                                                    <li value="2">From the sidebar, click on the <span class="UIelement">Sources </span>icon.</li>
                                                    <li value="3">Click on the <span class="UIelement">Import Data Source</span> icon in the <span class="UIelement">Datasets</span> panel.</li>
                                                    <li value="4">Browse and select a JSON file in the <span class="UIelement">Select Data Source Location</span> window and click Next. </li>
                                                    <li value="5">The <span class="UIelement">Import Data Source</span> window is displayed with the preview of the file. <span class="GeneralProductName3">Xcalar</span> detects the format of the file as JSON. </li>
                                                    <li value="6">(Optional) If you wish to use a JMESPath expression, enter it in the JMESPath text box. Otherwise, leave it empty.</li>
                                                    <li value="7">(Optional) Use the Advanced Options:<ol style="list-style-type: lower-alpha;"><li value="1">To add the File Name or the Record Number to each record.</li><li value="2">To select an error tolerance.</li></ol></li>
                                                    <li value="8">
                                                        <p>Click <span class="UIelement">Create Dataset</span>. </p>
                                                        <p>The dataset is generated and the preview is displayed. The columns containing arrays and objects are imported as is. For details on how to pull out the individual elements of an array or an object column, see <a href="#Pulling" class="MCXref xref" xrefformat="{para}">Pulling out all elements of an array or an object from a column</a>.</p>
                                                    </li>
                                                </ol>
                                                <h2 class="noPageBreak"><a name="Pulling"></a>Pulling out all elements of an array or an object from a column</h2>
                                                <p>To pull out all elements of an array or an object from a dataset column into separate columns:</p>
                                                <ol>
                                                    <li value="1">Add a <span class="UIelement">Dataset </span>Node to a dataflow.</li>
                                                    <li value="2">Configure the Node to read the dataset with an array or an object column.</li>
                                                    <li value="3">
                                                        <p>Save and execute the Node. </p>
                                                        <p>The result of the Node is displayed.</p>
                                                    </li>
                                                    <li value="4">
                                                        <p>Locate the array or the object column that you wish to separate. </p>
                                                        <div class="Note"><span class="label">NOTE</span>:&#160;The notation for an object is {} and the notation for an array is [].</div>
                                                    </li>
                                                    <li value="5">
                                                        <p>Click one of the cells in the column and select <span class="UIelement">Pull all</span>:</p>
                                                        <p>
                                                            <img src="../../Resources/Images/XD_screenshots/xd-array-2.png" />
                                                        </p>
                                                        <p>All the elements of the top level array or object are separated out into new columns.</p>
                                                        <p>
                                                            <img src="../../Resources/Images/XD_screenshots/xd-array-3.png" />
                                                        </p>
                                                        <div class="Note"><span class="label">NOTE</span>:&#160;If the original column contained nested arrays or nested objects, some of the new columns may still contain an array or an object. You can keep on pulling those columns into new columns till the time there are no more array or object columns left.</div>
                                                    </li>
                                                </ol>
                                                <h2 class="noPageBreak"><a name="Importin"></a>Importing a JSON file into a table</h2>
                                                <p>To import a JSON file into a table:</p>
                                                <ol>
                                                    <li value="1">From the sidebar, click on the <span class="UIelement">Sources </span>icon and then click the <span class="UIelement">Tables </span>icon.</li>
                                                    <li value="2">Click on the <span class="UIelement">Import Data Source</span> icon in the <span class="UIelement">Tables </span>panel.</li>
                                                    <li value="3">
                                                        <p>Browse and select a JSON file in the <span class="UIelement">Select Data Source Location</span> window and click Next. </p>
                                                        <p>The <span class="UIelement">Import Data Source</span> window is displayed with the preview of the file. <span class="GeneralProductName3">Xcalar</span> detects the file format as JSON. The schema of the JSON is displayed in the <span class="UIelement">Schema </span>text box.</p>
                                                    </li>
                                                    <li value="4">(Optional) If you wish to use JMESPath expression, enter it in the JMESPath text box. Otherwise, leave it empty.</li>
                                                    <li value="5">
                                                        <p>The columns with arrays and objects are grayed out because these columns cannot be imported into <span class="GeneralProductName3">Xcalar</span> tables directly. You need to edit the schema and pull out the specific elements of arrays and objects into tables. In the <span class="UIelement">Schema</span> field, enter the JSON array or object column names and their data type. The syntax is as follows:</p>
                                                        <p>[... ,{"name":"<var>object_colname.keyname</var>", "newName": "<var>new_colname</var>", "type":"<var>data_type</var>"},{"name":"<var>array_colname</var>[<var>index_no</var>]","newName": "<var>new_colname</var>", "type":"<var>data_type</var>"}, ... ]</p>
                                                        <p>Where</p>
                                                        <ul style="list-style-type: circle;">
                                                            <li value="1"><var>object_colname</var> is the existing name of the column that contains the JSON objects. </li>
                                                            <li value="2"><var>keyname</var> is the name of the key of a key-value pair in the JSON object. </li>
                                                            <li value="3"><var>new_colname</var> is the new name for the column that will contain the object values for the specified key or specified array elements.</li>
                                                            <li value="4"><var>array_colname</var> is the existing name of the column that contains the JSON arrays. </li>
                                                            <li value="5"><var>index_no</var> is the index number. The index number enables you to select a specific element in the array.  Index numbers start at 0.</li>
                                                            <div class="Note"><span class="label">NOTE:</span> If you use a number that is larger than the number of elements in the array, a value of null is returned.</div>
                                                            <li value="6"><var>data_type</var> is the data type format of the column. Choose from boolean, integer, float, string, timestamp, and money. For more information on the data types formats that <span class="GeneralProductName3">Xcalar</span> supports, see <a href="../E_Reference/DataTypes.htm" class="MCXref xref" xrefformat="{para}">Data types supported</a>.</li>
                                                        </ul>
                                                        <p>Example of importing the values of the key-value pairs in an object:<br />If a column named <code>votes</code>, contains an object with key value pairs, such as: <br />{"funny":0,"useful":2,"cool":1}</p>
                                                        <p>And you want to separate out the funny, useful and cool votes in separate columns, enter the following text in the <span class="UIelement">Schema</span> text box: <br /></p>
                                                        <div class="Code">
                                                            <p class="CLIoutput">[{"name":"votes.funny", "newName": "votes_funny", "type":"integer"},{"name":"votes.useful", "newName": "votes_useful", "type":"integer"},{"name":"votes.cool", "newName": "votes_cool", "type":"integer"}]</p>
                                                        </div>
                                                        <p>Example of importing the elements of an array:<br />If a column named <code>categories</code>, contains an array of categories, such as: <br />["Art","Music","Science"]</p>
                                                        <p>You can refer to each element using an index. In the <span class="UIelement">Schema</span> text box, enter the following text: </p>
                                                        <div class="Code">
                                                            <p class="CLIoutput">[{"name":"categories[0]", "newName": "category0", "type":"string"},{"name":"categories[1]", "newName": "category1", "type":"string"},{"name":"categories[2]", "newName": "category2", "type":"string"}]</p>
                                                        </div>
                                                    </li>
                                                    <li value="6">(Optional) Use the Advanced Options:<ol style="list-style-type: lower-alpha;"><li value="1">To add the File Name or the Record Number to each record.</li><li value="2">To select an error tolerance.</li></ol></li>
                                                    <li value="7">Click <span class="UIelement">Create Table</span>. The table is generated and the preview is displayed.</li>
                                                </ol>
                                                <p><a href="#top">Go to the top</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Performing a Set operation on multiple result sets</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" defer="defer">
        </script>
        <script src="../../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Home_cloud.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <main id="main" class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="content">
                                        <p><a name="top"></a>
                                        </p>
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="sideContent">
                                                    <div class="clearfix">
                                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                            <div class="button-group-container-left">
                                                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                    <img alt="Navigate previous" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                    <img alt="Navigate next" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <div class="button-separator">
                                                                </div>
                                                                <button class="button needs-pie print-button" title="Print">
                                                                    <img alt="Print" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                    </div>
                                                </div>
                                                <h1>Performing a Set operation on multiple result sets</h1>
                                                <p>You can perform a Set operation (union,  intersect, or except) on two or more result sets in a similar way as you use the Set operators, UNION, INTERSECT, or EXCEPT in SQL. The union operation combines all rows in the specified result sets. The intersect operation provides only those rows that exist in all result sets. The except operation provides only those rows from the first result set that are not in the other result sets. In all three operations, you can select to include or remove duplicate rows in the new result set.</p>
                                                <h2 class="noPageBreak">Before you start a Set operation</h2>
                                                <p>Understand and follow these guidelines when you enter the specifications for a Set operation:</p>
                                                <ul>
                                                    <li value="1">You can union,  intersect, or except as many result sets as desired.</li>
                                                    <li value="2">The input result sets can have a different number of columns. For example, you can perform a Union on ResultSet1, which has 2 columns, and ResultSet2, which has 5 columns.</li>
                                                    <li value="3">You can specify which column from an input result set will make up a resultant column in the output. For example, suppose you union ResultSet1 and ResultSet2, each containing columns named Date2016 and Date2017. For the union output, the resultant column  named Date can comprise data from Date2016 of ResultSet1 and Date2017 of ResultSet2.</li>
                                                    <li value="4">If the columns of the input result sets do not have matching data types, you must specify the data type of the resultant column.&#160;For example, if ResultSet1 has an Integer column named Date and ResultSet2 has a String column named Date, you must specify the data type of the resultant Date column in the output. Suppose you specify Integer as the data type, <span class="GeneralProductName3">Xcalar</span> casts the Date column of ResultSet2 to Integer before the <span class="UIelement">Set</span> operation.</li>
                                                    <li value="5">You can specify the columns to be excluded in the output. For example, if ResultSet1 and ResultSet2 have 3 columns named Date, Distance, and Duration, you can specify that the Date column be dropped from the new result set.</li>
                                                </ul>
                                                <h2 class="noPageBreak">Understanding the Set operation output</h2>
                                                <p>The following list describes the characteristics of the Set operation output:</p>
                                                <ul>
                                                    <li value="1">All columns in the output result set are derived columns.</li>
                                                    <li value="2">The output of a Set operation becomes the new active result set.</li>
                                                    <li value="3">As in SQL, creating a union in <span class="GeneralProductName3">Xcalar</span> does not preserve the row order. For example, if  ResultSet1 and ResultSet2 are the input result sets for the union, the new result set might display some rows from ResultSet1, followed by some rows from&#160;ResultSet2 and then more rows from ResultSet1.</li>
                                                    <li value="4">
                                                        <p>Array or object columns are excluded from the Set operation.</p>
                                                    </li>
                                                </ul>
                                                <h2 class="noPageBreak">Applying a Set operation</h2>
                                                <p>Verify that you are in Dataflow Mode. If not, from the top menu bar of <span class="GeneralGUIName1">Xcalar Design</span>, click the mode switch to display the <span class="UIelement">Dataflow Mode</span> workspace. From the  sidebar, click the <span class="UIelement">Dataflow Panel</span> icon. The <span class="UIelement">Dataflow Mode</span> workspace opens.</p>
                                                <p>There are two ways of applying a <span class="UIelement">Set</span> operation - starting from a result set column and starting from a dataflow Node. </p>
                                                <ol>
                                                    <li value="1">Applying a <span class="UIelement">Set</span> operation starting from a result set:<ol style="list-style-type: lower-alpha;"><li value="1">Display a result set that you want to add to a union, intersect, or except operation.</li><li value="2"><p>Click the header of a column that you want to include in the union output. </p><p>The column drop-down is displayed.  </p></li><li value="3"><p>Select <span class="UIelement">Set Operation</span> to display the drop-down with three options - <span class="UIelement">Union</span>, <span class="UIelement">Intersect</span> and <span class="UIelement">Except</span>. Select one of them. For example, select <span class="UIelement">Union</span>. </p><p>The <span class="UIelement">Set Operation</span>&#160;panel is displayed and a <span class="UIelement">Union</span> Node is added to the dataflow canvas. The <span class="UIelement">Operation</span> field in the panel displays the operation you chose  (Union in this case). </p></li><li value="4">To include duplicate rows in the new result set, click <span class="UIelement">Yes</span> in the <span class="UIelement">Include Duplicate Rows</span> field. To exclude duplicate rows in the new result set, click <span class="UIelement">No</span>.</li><li value="5">The column on which you chose the <span class="UIelement">Union</span> operation is displayed in the <span class="UIelement">Columns after Set operation</span> section under result set <span class="UIelement">#1</span>. You can accept the system generated <span class="UIelement">New Name</span> for this column or enter a different name.</li><li value="6">To add the second result set for the <span class="UIelement">Union </span>operation, link an existing result set Node in the dataflow canvas to the newly created <span class="UIelement">Union </span>Node. This adds the second result set in the <span class="UIelement">Set Operation</span> panel as <span class="UIelement">#2</span>. Repeat this step to add more result sets to the <span class="UIelement">Union</span> operation. You may have to increase the width of the <span class="UIelement">Set Operation</span> panel to see additional result sets. See <a href="../A_Dataflows/CreateEditDeleteDf.htm" class="MCXref xref" xrefformat="{para}">Creating and editing a dataflow</a> for more information on connecting Nodes and creating dataflows.</li></ol></li>
                                                    <li value="2">Applying a <span class="UIelement">Set</span> operation starting from a dataflow Node:<ol style="list-style-type: lower-alpha;"><li value="1"><p>Click the <span class="UIelement">Set </span>category in the <span class="UIelement">Dataflow Mode Toolbar</span> to display the <span class="UIelement">Intersect</span>, <span class="UIelement">Union </span>and <span class="UIelement">Except </span>Nodes.</p></li><li value="2">Drag the <span class="UIelement">Union </span>Node to the dataflow canvas.</li><li value="3"> <span class="UIelement">Union </span>operation requires at least two result sets. Connect two existing result set Nodes to the input of the <span class="UIelement">Union</span> Node. See <a href="../A_Dataflows/CreateEditDeleteDf.htm" class="MCXref xref" xrefformat="{para}">Creating and editing a dataflow</a> for more information on connecting Nodes and creating dataflows.</li><li value="4"><p>Right click the <span class="UIelement">Union</span> Node and select <span class="UIelement">Configure</span>. </p><p>The <span class="UIelement">Set Operation</span>&#160;panel is displayed.</p></li><li value="5">The <span class="UIelement">Operation</span> field in the <span class="UIelement">Set Operation</span> panel displays the operation you chose (Union in this case). </li><li value="6">To include duplicate rows in the new result set, click <span class="UIelement">Yes</span> in the <span class="UIelement">Include Duplicate Rows</span> field. To exclude duplicate rows in the new result set, click <span class="UIelement">No</span>.</li><li value="7">The two result sets you connected to the <span class="UIelement">Union</span> Node are displayed in the panel as result set <span class="UIelement">#1</span> and result set <span class="UIelement">#2</span>. </li></ol></li>
                                                    <li value="3">
                                                        <p>In the <span class="UIelement">Columns after Set operation</span> section, select a column from each input result set that will make up the columns in the new result set. There are many ways of selecting and deselecting the columns:</p>
                                                        <ul>
                                                            <li value="1">For each input result set, you can enter the column name text in the <span class="UIelement">Find column name</span> field, which highlights the matching column in the <span class="UIelement">Columns to drop</span> section. Click the highlighted column name to add to the <span class="UIelement">Columns after Set operation</span> section. </li>
                                                            <li value="2">Click on <span class="UIelement">Add All Columns</span> icon to add all columns from <span class="UIelement">Columns to drop</span> section to <span class="UIelement">Columns after Set operation</span> section.</li>
                                                            <li value="3">Once at least one column is added to the <span class="UIelement">Columns after Set operation</span> section, you can  click the column name and select a different column name. </li>
                                                            <li value="4">In the <span class="UIelement">Columns to drop</span> section, click a column name or the <span class="UIelement">Plus</span> icon preceding the column name to add that column to the <span class="UIelement">Columns after Set operation</span> section.</li>
                                                            <li value="5">Click on <span class="UIelement">Remove All Columns</span> icon to move all columns from  <span class="UIelement">Columns after Set operation</span> section to <span class="UIelement">Columns to drop</span> section.</li>
                                                            <li value="6">Click X in the <span class="UIelement">New Name</span> list to remove a single column from the <span class="UIelement">Columns after Set operation</span> section.</li>
                                                        </ul>
                                                        <div class="Note"><span class="label">TIP</span>:&#160;To make sure that the selected column is the intended column, move the cursor over the column name in the drop-down. A tooltip displays the full name of that column with prefix. </div>
                                                        <div class="Note"><span class="label">NOTE</span>:&#160;A column in the new result set does not need to contain data from all similar input result set columns. For example, in a Union result set, a column named DayOfWeek can be made from the  DayOfWeek column in ResultSet1 and no column from ResultSet2. The rows from ResultSet2 in the DayOfWeek column of the union result set will show&#160;FNF.</div>
                                                    </li>
                                                    <li value="4">
                                                        <p>Click <span class="UIelement">Save</span>.  </p>
                                                        <p>If a resultant column consists of columns of mismatched types, an error message is displayed. You must specify the data type of the resultant column, and then click <span class="UIelement">Save</span> again. This saves the configuration and the new result set is displayed when the Node executes. </p>
                                                    </li>
                                                </ol>
                                                <p><a href="#top">Go to the top</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
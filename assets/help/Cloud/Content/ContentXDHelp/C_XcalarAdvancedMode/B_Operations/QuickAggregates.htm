<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Determining aggregate values</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" defer="defer">
        </script>
        <script src="../../../../Skins/Default/Scripts/TopicToolBar.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 800px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../Home_cloud.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <main id="main" class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="content">
                                        <p><a name="top"></a>
                                        </p>
                                        <div id="contentBody">
                                            <div class="row collapse">
                                                <div class="sideContent">
                                                    <div class="clearfix">
                                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component nocontent">
                                                            <div class="button-group-container-left">
                                                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                    <img alt="Navigate previous" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                    <img alt="Navigate next" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                                <div class="button-separator">
                                                                </div>
                                                                <button class="button needs-pie print-button" title="Print">
                                                                    <img alt="Print" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                    </div>
                                                </div>
                                                <h1>Determining aggregate values</h1>
                                                <p>This section explains how to determine aggregate values from numeric values. <span class="GeneralProductName3">Xcalar</span> provides only one aggregate function called listAgg which works on strings. For more information about listAgg, see <a href="GroupBy.htm#Understa" class="MCXref xref" xrefformat="{para}">Understanding the listAgg (list aggregate) function</a>.</p>
                                                <p>An aggregate value is calculated using the values of the rows in a column. For example, in a result set showing employee salaries, you can run an aggregate function on the Salary column to determine the average salary. </p>
                                                <p>To calculate aggregate values, verify that you are in Dataflow Mode. If not, from the top menu bar of <span class="GeneralGUIName1">Xcalar Design</span>, click the mode switch to display the <span class="UIelement">Dataflow Mode</span> workspace. From the  sidebar, click the <span class="UIelement">Dataflow Panel</span> icon. The <span class="UIelement">Dataflow Mode</span> workspace opens.</p>
                                                <p>You can determine the aggregate values for numeric columns in one of the following two ways:</p>
                                                <ul>
                                                    <li value="1">Calculate aggregate values for multiple selected columns in a result set.</li>
                                                    <li value="2">Calculate aggregate values for a selected column in a result set.</li>
                                                </ul>
                                                <h2 class="noPageBreak">Understanding the min and max functions</h2>
                                                <p>The min and max functions return the aggregate values appropriate to the column's data type.&#160;For example, for a string column, the max function returns the same value as the maxString function; for an integer column, the min function returns the same value as the minInteger function. The min and max functions are shortcuts for the data type-specific functions. However, the data type-specific functions provide better performance. </p>
                                                <h2 class="noPageBreak">Calculating aggregate values for multiple columns</h2>
                                                <p>To calculate aggregate values for all numeric columns in a result set:</p>
                                                <ol>
                                                    <li value="1">Display the result set on which you want to calculate aggregate values. </li>
                                                    <li value="2">
                                                        <p>Click Menu in the top right corner of the result set view and select <span class="UIelement">Correlation</span>.</p>
                                                        <p>The <span class="UIelement">Correlation and Quick Aggregates</span> modal is displayed. For more information about <span class="UIelement">Correlation and Quick Aggregates</span> modal window, see <a href="Correlation.htm" class="MCXref xref" xrefformat="{para}">Determining the correlation between two columns</a>.</p>
                                                    </li>
                                                    <li value="3">
                                                        <p>Click the <span class="UIelement">Quick Aggregate</span> horizontal tab. </p>
                                                        <p>The modal window displays the values resulting from the common aggregate functions for all numeric columns.</p>
                                                    </li>
                                                </ol>
                                                <h2 class="noPageBreak">Calculating aggregate values for a selected column</h2>
                                                <p>If you are interested in viewing only the common aggregate values for a single column:</p>
                                                <ol>
                                                    <li value="1">Display the result set on which you want to calculate aggregate values. </li>
                                                    <li value="2">
                                                        <p>Right click the header of the desired numeric column and select <span class="UIelement">Profile</span>.</p>
                                                        <p>The <span class="UIelement">Profile</span> modal is displayed.</p>
                                                    </li>
                                                    <li value="3">If the <span class="UIelement">Aggregate Summary</span> section does not display the aggregate values, click <span class="UIelement">Generate</span>, which generates and displays the values resulting from common aggregate functions for the selected column.</li>
                                                </ol>
                                                <p>If you are interested in calculating one particular aggregate value for a column or if you plan to use the aggregate value as input for other functions:</p>
                                                <ol>
                                                    <li value="1">
                                                        <p>Right click the header of the desired numeric column and select <span class="UIelement">Aggregate</span>. </p>
                                                        <p>The <span class="UIelement">Aggregate</span>&#160;panel is displayed. </p>
                                                        <p>Alternatively:</p>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Select the <span class="UIelement">Aggregates</span> category in the Dataflow Mode toolbar, to display the <span class="UIelement">Single Value</span> Node. </li>
                                                            <li value="2">Drag the <span class="UIelement">Single Value</span> Node to the dataflow canvas. </li>
                                                            <li value="3">Locate the result set Node in which you want to aggregate a column, and connect its output to the <span class="UIelement">Single Value</span> Node. See <a href="../A_Dataflows/CreateEditDeleteDf.htm" class="MCXref xref" xrefformat="{para}">Creating and editing a dataflow</a> for more information on connecting nodes and creating dataflows. </li>
                                                            <li value="4">Right click the <span class="UIelement">Single Value</span> Node and select <span class="UIelement">Configure</span> to display the <span class="UIelement">Aggregate</span> configuration panel. </li>
                                                        </ol>
                                                    </li>
                                                    <li value="2">Select an <span class="UIelement">Aggregate Function</span>. For example, to calculate the average for the column, select the avg function.</li>
                                                    <li value="3">Select a column to aggregate on.</li>
                                                    <li value="4">
                                                        <p>In the <span class="UIelement">New Resultant Aggregate Name</span> field, enter the name of the aggregate value. The caret (^) is automatically entered in the field because the name must be preceded by the caret when using it in other parts of your dataflow. </p>
                                                        <div class="Note"><span class="label">IMPORTANT:</span>&#160;If you plan to use an aggregate value in the future as input to a function such as an <span class="GeneralProductName3">Xcalar</span> defined function (XDF), <span class="GeneralCompanyNameShort">Xcalar</span> strongly recommends that you assign a meaningful name to the value.&#160;In this way, you can use the name as an argument to the function. Do not use the actual aggregate value as the argument because the value might not be accurate when you run the function against the entire data source or when you use the function against another dataset.</div>
                                                        <div class="Example"><span class="label">EXAMPLE:</span> You can name the resultant aggregate value average_salary (which shows as <span class="UIelement">^average_salary</span> in the <span class="UIelement">Aggregate</span>&#160;panel). Naming a resultant value is useful if you plan to use the value as input for another function. In this example, you can type <span class="UIelement">average_salary</span> as an operand in a <span class="UIelement">Map</span> or <span class="UIelement">Filter</span> panel, or you can type <span class="UIelement">^average_salary</span> as input for a function in the function bar.</div>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="17" alt="Closed" data-mc-alt2="Open" />The following list describes the  naming conventions:</a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <ul>
                                                                    <li value="1">The name is case-sensitive. </li>
                                                                    <li value="2">Length must not exceed 255 characters.</li>
                                                                    <li value="3">First character must be a letter of the alphabet.</li>
                                                                    <li value="4"> Characters must be A-Z, a-z, 0-9, hyphen (-), or underscore (_).</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="17" alt="Closed" data-mc-alt2="Open" />The following lists describe the rules and tips for entering information in a <span class="GeneralGUIName1">Xcalar Design</span> panel.</a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p>For selecting columns:</p>
                                                                <ul>
                                                                    <li value="1">By default, the name of the column from which you start the function is displayed as an argument. You can select another column.</li>
                                                                    <li value="2">If the column you want to select is not in the result set, go to the Data Browser to pull the column. Then you can select the column as input to the function.</li>
                                                                </ul>
                                                                <p>For typing a column name:</p>
                                                                <ul>
                                                                    <li value="1">Always start with the dollar sign ($).</li>
                                                                    <li value="2">Always include the prefix if one exists. A derived column does not have a column name prefix.</li>
                                                                    <li value="3">To specify the resultant column name, type the name without preceding it with the dollar sign ($).</li>
                                                                    <li value="4">To avoid mistakes when typing a column name, click on the argument field, move your cursor to the active result set and click anywhere in the desired column. The column's name is automatically entered for you.</li>
                                                                    <li value="5">If an operand accepts a column name, it also accepts the aggregate name that you created when you calculated the aggregate value for a column. </li>
                                                                </ul>
                                                                <p>For typing an operand value:</p>
                                                                <ul>
                                                                    <li value="1">In most cases, do not surround the value with quote marks, even if it is a string with a space. In cases where the function can evaluate the value as a string or numeric value, use the quote marks.&#160;You can check the syntax displayed in the panel.&#160;The syntax displays the quote marks for an operand if the operand is to be interpreted as a string.</li>
                                                                    <li value="2">If the string contains  the backslash (\) or double quote mark ("), escape the character with a backslash (\). Not doing so causes an error message, indicating that the input string is a malformed evaluation string.</li>
                                                                    <li value="3">The $ character has special meaning in <span class="GeneralGUIName1">Xcalar Design</span>. It denotes a column name. If your input string starts with $, escape it with a backslash (\).</li>
                                                                    <li value="4">The caret (^) has  special meaning in <span class="GeneralGUIName1">Xcalar Design</span>.&#160;It denotes a named aggregate value. If your input string starts with a caret, escape it with a backslash (\).</li>
                                                                    <li value="5">
                                                                        <p>Boolean values are case-insensitive. For example, in an input field that accepts a Boolean value, you can type true, True, false, or False.</p>
                                                                    </li>
                                                                </ul>
                                                                <p>In the panel, you can undo any typing with the undo key or key combination that you normally use in your browser.</p>
                                                            </div>
                                                        </div>
                                                    </li>
                                                    <li value="5">
                                                        <p>Click <span class="UIelement">Save</span>. </p>
                                                        <p>The configuration is saves and aggregate value is generated when the Node executes. The aggregate value is saved under the aggregate name. </p>
                                                    </li>
                                                </ol>
                                                <h2 class="noPageBreak"><a name="Displayi"></a>Displaying saved aggregate values</h2>
                                                <p>If you want to use one of the saved aggregate values as input to a function, you can select the value from a list of saved aggregate names. Click on the <span class="UIelement">Aggregates</span> button near the <span class="UIelement">Dataflow Mode</span> switch to display the list of saved aggregate names in a table format. Hover over an aggregate name to display a copy icon and a search icon. Click on the copy icon to copy the aggregate name to the clipboard. Click on the search icon to find the Node in the dataflow which generated that aggregate.</p>
                                                <h2 class="noPageBreak">Displaying aggregate values in a result set</h2>
                                                <p>Instead of saving an aggregate value under a name, you can also store an aggregate value in a result set using the <span class="UIelement">Group By</span> Node. For more information about saving aggregate values in a result set, see <a href="GroupBy.htm#Creating" class="MCXref xref" xrefformat="{para}">Creating a result set for listing aggregate values</a>.</p>
                                                <p><a href="#top">Go to the top</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
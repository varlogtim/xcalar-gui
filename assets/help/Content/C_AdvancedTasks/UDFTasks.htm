<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Advanced tasks">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Using user-defined functions (UDFs)</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.5.5.0.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.topic-ratings-button
{
	-pie-background: transparent url('../../Skins/Default/Stylesheets/Images/star-full.png') no-repeat center center;
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.edit-user-profile-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/edit-profile.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../Resources/TableStyles/SimpleTable.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.5.5.0_custom.js">
        </script>
        <script src="../../Resources/Scripts/foundation.offcanvas.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap">
            <div class="off-canvas-wrap" data-offcanvas="">
                <section class="inner-wrap">
                    <nav class="tab-bar" data-mc-ignore="true">
                        <section class="middle tab-bar-section outer-row clearfix">
                            <div class="relative clearfix"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                <div class="navigation-wrapper">
                                    <ul class="navigation clearfix">
                                        <li class="has-children"><a href="../A_IntroductoryTopics/Getting Started.htm">Getting started</a>
                                            <ul class="sub-menu">
                                                <li><a href="../A_IntroductoryTopics/Requirements.htm">Requirements for Xcalar Insight</a>
                                                </li>
                                                <li><a href="../A_IntroductoryTopics/BasicConcepts.htm">Basic Xcalar Insight concepts</a>
                                                </li>
                                                <li><a href="../A_IntroductoryTopics/FirstSteps.htm">First steps</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="../B_CommonTasks/Tasks.htm">Common tasks</a>
                                            <ul class="sub-menu">
                                                <li><a href="../B_CommonTasks/CreateTable.htm">Creating a table</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/AddColumns.htm">Adding columns from a dataset to a table</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/ChangeDataType.htm">Changing the data type for a column</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/ManipulateColumns.htm">Manipulating table columns</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/CountOccurrencesOfValues.htm">Counting occurrences of values in a table column</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/UndoRedo.htm">Undoing and redoing an operation</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/FilterValue.htm">Filtering in a table column</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/JoinTables.htm">Joining tables</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/GroupBy.htm">Grouping data in a table</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/Map.htm">Using the map function to create new values</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/Correlation.htm">Determining correlation between two values</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/ChangeTableStatus.htm">Understanding and changing a table status</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="AdvancedTopics.htm">Advanced tasks</a>
                                            <ul class="sub-menu">
                                                <li><a href="Extensions.htm">Using extensions</a>
                                                </li>
                                                <li><a href="UDFUnderstand.htm">Understanding user-defined functions (UDFs)</a>
                                                </li>
                                                <li><a href="#" class="selected">Using user-defined functions (UDFs)</a>
                                                </li>
                                                <li><a href="OperationalizeQueries.htm">Operationalizing queries</a>
                                                </li>
                                                <li><a href="FunctionBar.htm">Using the function bar</a>
                                                </li>
                                                <li><a href="UnderstandMemoryUse.htm">Understanding memory usage</a>
                                                </li>
                                                <li><a href="OptimizeMemory.htm">Optimizing memory usage</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="../D_ReferenceInformation/Reference.htm">Reference information</a>
                                            <ul class="sub-menu">
                                                <li><a href="../D_ReferenceInformation/InsightWindow.htm">Xcalar Insight window</a>
                                                </li>
                                                <li><a href="../D_ReferenceInformation/WkbkBrowser.htm">Workbook Browser</a>
                                                </li>
                                                <li><a href="../D_ReferenceInformation/WorksheetWindow.htm">Worksheet window with tables</a>
                                                </li>
                                                <li><a href="../D_ReferenceInformation/DataBrowser.htm">Data Browser</a>
                                                </li>
                                                <li><a href="../D_ReferenceInformation/QueryGraph.htm">Query graph viewer</a>
                                                </li>
                                                <li><a href="../B_CommonTasks/Table_options.htm">Table options</a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div><a class="menu-icon right-off-canvas-toggle" href="#"><span></span></a>
                            </div>
                        </section>
                        <div class="nav-search row outer-row">
                            <form class="search" action="#">
                                <div class="search-bar search-bar-container needs-pie">
                                    <input class="search-field needs-pie" type="search" placeholder="Search" />
                                    <div class="search-filter-wrapper">
                                        <div class="search-filter">
                                            <div class="search-filter-content">
                                                <ul>
                                                    <li>All Files</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-submit-wrapper" dir="ltr">
                                        <div class="search-submit" title="Search">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </nav>
                    <aside class="right-off-canvas-menu" data-mc-ignore="true">
                        <ul class="off-canvas-list" data-mc-back-link="Back" data-mc-css-tree-node-expanded="has-submenu" data-mc-css-tree-node-collapsed="has-submenu" data-mc-css-sub-menu="right-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.fndtn.offcanvas" data-mc-toc="True">
                        </ul>
                    </aside>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div id="contentBody">
                                <div class="row collapse">
                                    <div class="sideContent">
                                        <div class="clearfix">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component">
                                                <div class="button-group-container-left">
                                                    <div class="button-group star-buttons loading feedback-topic-required">
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                    </div>
                                                    <div class="button-separator feedback-topic-required">
                                                    </div>
                                                    <button class="button feedback-required login-button" id="normalLoginBtn" data-state1-class="login-button" data-state2-class="edit-user-profile-button" title="Login" data-state1-title="Login">
                                                        <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="login" />
                                                    </button>
                                                    <button class="button needs-pie print-button" title="Print">
                                                        <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <ul class="menu _Skins_SideMenu mc-component">
                                            <li class="has-children"><a href="AdvancedTopics.htm">Advanced tasks</a>
                                                <ul class="sub-menu">
                                                    <li><a href="Extensions.htm">Using extensions</a>
                                                    </li>
                                                    <li><a href="UDFUnderstand.htm">Understanding user-defined functions (UDFs)</a>
                                                    </li>
                                                    <li><a href="#" class="selected">Using user-defined functions (UDFs)</a>
                                                    </li>
                                                    <li><a href="OperationalizeQueries.htm">Operationalizing queries</a>
                                                    </li>
                                                    <li><a href="FunctionBar.htm">Using the function bar</a>
                                                    </li>
                                                    <li><a href="UnderstandMemoryUse.htm">Understanding memory usage</a>
                                                    </li>
                                                    <li><a href="OptimizeMemory.htm">Optimizing memory usage</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="AdvancedTopics.htm">Advanced tasks</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Using user-defined functions (UDFs)</span>
                                    </div>
                                    <div class="bodyProxyNarrow">
                                        <h1>Using user-defined functions (UDFs)</h1>
                                        <p>This section describes the UDF-related tasks.</p>
                                        <h2>Creating a UDF in <span class="GeneralProductName">Xcalar Insight</span></h2>
                                        <p>UDFs are global. UDFs created by one  <span class="GeneralProductName">Xcalar Insight</span> user can be used and edited by all other users. </p>
                                        <p>You define one or multiple UDFs in a Python module, which you can type directly in the UDF panel or upload from your computer. Both methods require that you display the UDF panel in <span class="GeneralProductName">Xcalar Insight</span>.</p>
                                        <h3>Displaying the UDF&#160;panel</h3>
                                        <p>In the lower-right corner of the <span class="GeneralProductName">Xcalar Insight</span> window, click the UDF icon to display the UDF panel.&#160;The following partial screen shows the location of the UDF icon.</p>
                                        <p>
                                            <img src="../Resources/Images/Insight_screenshots/udf-button.png" />
                                        </p>
                                        <p>The following screen shows an example of the UDF panel. </p>
                                        <p>
                                            <img src="../Resources/Images/Insight_screenshots/udf-panel_654x463.png" style="width: 654;height: 463;" />
                                        </p>
                                        <h3>Typing the code directly in the UDF panel</h3>
                                        <p>Follow these steps to write the UDF in the UDF panel and then upload it to XCE:</p>
                                        <ol>
                                            <li value="1">Select <span class="UIelement">Write your function</span> if it is not selected already.</li>
                                            <li value="2">Click the drop-down arrow to display a list of modules. Select <span class="UIelement">Blank function</span> or an existing function as a template.</li>
                                            <li value="3">Type the code in the UDF panel.</li>
                                            <li value="4">
                                                <p>In the <span class="UIelement">Module Name</span> field, type the module name. </p>
                                                <div class="Note"><span class="label">NOTE:</span>&#160;Module names are case insensitive. If you type letters in uppercase, they are echoed in lowercase  in this field. See <a href="UDFUnderstand.htm#UDF" class="MCXref xref">UDF naming conventions</a> for information about name requirements.</div>
                                            </li>
                                            <li value="5"> Click <span class="UIelement">UPLOAD</span>. If a module with the same name already exists, a dialog box asks whether you want to overwrite the existing module. If so, click <span class="UIelement">CONFIRM</span>. Otherwise, click <span class="UIelement">CANCEL</span> and then rename the module.</li>
                                        </ol>
                                        <h3>Uploading .py files</h3>
                                        <p>Follow these steps to upload a .py file from your computer to XCE:</p>
                                        <ol>
                                            <li value="1">Select <span class="UIelement">Upload your script</span>.</li>
                                            <li value="2">
                                                <p>Click <span class="UIelement">BROWSE</span>, which enables you to navigate to the folder on your computer that contains the module. Then select the module.</p>
                                                <div class="Note"><span class="label">NOTE:</span>&#160;The name of the uploaded module is the same as the filename on your computer. Module names are case insensitive. They are in lowercase regardless of the case used in the original filename. </div>
                                                <div class="Note"><span class="label">NOTE:</span> If the original filename does not follow the naming conventions, an error message notifies you that the name is invalid. See <a href="UDFUnderstand.htm#UDF" class="MCXref xref">UDF naming conventions</a> for information about name requirements.</div>
                                            </li>
                                            <li value="3">
                                                <p>Click <span class="UIelement">UPLOAD</span>. If a module with the same name already exists, a dialog box asks whether you want to overwrite the existing module. If so, click <span class="UIelement">CONFIRM</span>. Otherwise, click <span class="UIelement">CANCEL</span> and then rename the module.</p>
                                            </li>
                                        </ol>
                                        <h2>About Python code parsing</h2>
                                        <p>After you upload a module, it is parsed by the Python interpreter. If there are parse errors, they are reported to you and the UDF is not added to <span class="GeneralProductName2">Xcalar Compute Engine</span>.</p>
                                        <h2>Replacing a UDF</h2>
                                        <p>You cannot edit a UDF in place.&#160;You can, however, modify a UDF by replacing it.</p>
                                        <div class="Example"><span class="label">EXAMPLE:</span> To modify a UDF&#160;named <span class="UIelement">calendar:getWeekday</span>, display the <span class="UIelement">calendar</span> module in the UDF panel and change the definition of the <span class="UIelement">getWeekday</span> function. Then upload the module with the same module name (<span class="UIelement">calendar</span>). Confirm that you want to overwrite the existing <span class="UIelement">calendar</span> module, and the new <span class="UIelement">calendar</span> module with the revised <span class="UIelement">getWeekday</span> function will be uploaded.</div>
                                        <div class="Note"><span class="label">IMPORTANT:</span>&#160;Because UDFs are global and accessible to all <span class="GeneralProductName">Xcalar Insight</span> users, remember to notify other users of the replacement so that they are aware of the revision.</div>
                                        <h2>Downloading a module</h2>
                                        <p>Follow these steps to download a module from XCE to your computer:</p>
                                        <ol>
                                            <li value="1">Click the drop-down arrow to display a list of existing UDFs.</li>
                                            <li value="2">Select a module from the list.</li>
                                            <li value="3">Click <span class="UIelement">DOWNLOAD</span>. The module, which is a .txt file, is downloaded to a location on your computer where you normally download files from the web with your browser.</li>
                                        </ol>
                                        <h2>Example of a UDF for a database operation</h2>
                                        <p>Suppose you have the following table in <span class="GeneralProductName">Xcalar Insight</span> showing some events and their dates, and you want to add a column that shows the day of week for each event. You can write a UDF to create the Weekday column.</p>
                                        <table style="mc-table-style: url('../Resources/TableStyles/SimpleTable.css');margin-left: 0;margin-right: auto;" class="TableStyle-SimpleTable" cellspacing="0">
                                            <col class="TableStyle-SimpleTable-Column-Column1" />
                                            <col class="TableStyle-SimpleTable-Column-Column1" />
                                            <thead>
                                                <tr class="TableStyle-SimpleTable-Head-Header1">
                                                    <th class="TableStyle-SimpleTable-HeadE-Column1-Header1">Event</th>
                                                    <th class="TableStyle-SimpleTable-HeadD-Column1-Header1">Date</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="TableStyle-SimpleTable-Body-Body1">
                                                    <td class="TableStyle-SimpleTable-BodyE-Column1-Body1">Party</td>
                                                    <td class="TableStyle-SimpleTable-BodyD-Column1-Body1">2014-06-07</td>
                                                </tr>
                                                <tr class="TableStyle-SimpleTable-Body-Body2">
                                                    <td class="TableStyle-SimpleTable-BodyE-Column1-Body2">Concert</td>
                                                    <td class="TableStyle-SimpleTable-BodyD-Column1-Body2">2015-09-12</td>
                                                </tr>
                                                <tr class="TableStyle-SimpleTable-Body-Body1">
                                                    <td class="TableStyle-SimpleTable-BodyB-Column1-Body1">Conference</td>
                                                    <td class="TableStyle-SimpleTable-BodyA-Column1-Body1">2015-09-14</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h3>Coding the UDF</h3>
                                        <p>Write the following code in a module named <span class="UIelement">calendar</span>:</p>
                                        <p class="userInput">import time</p>
                                        <p class="userInput">def getWeekday(column, format):</p>
                                        <p class="userInput">&#160;&#160;&#160;&#160;&#160;parsedTime = time.strptime(column, format)</p>
                                        <p class="userInput">&#160;&#160;&#160;&#160;&#160;weekday = time.strftime(“%A”, parsedTime)</p>
                                        <p class="userInput">&#160;&#160;&#160;&#160;&#160;return weekday</p>
                                        <p>The <span class="UIelement">getWeekday</span> function takes a column and a date-time format string as input. The Python built-in <span class="UIelement">time</span> module, which is imported into <span class="UIelement">calendar</span>, parses the input. The output from <span class="UIelement">calendar</span> is a new table with the Weekday column showing the day of week for each event.</p>
                                        <p>After you upload the <span class="UIelement">calendar</span> module, it is available for all <span class="GeneralProductName">Xcalar Insight</span> users to use.</p>
                                        <h3>Executing the UDF</h3>
                                        <p>In <span class="GeneralProductName">Xcalar Insight</span>, start a map operation from the <span class="UIelement">Date</span> column. Select <span class="UIelement">User-Defined Functions</span> as the category and then select the <span class="UIelement">calendar:getWeekday</span> UDF. In the <span class="UIelement">Argument List</span> of the <span class="UIelement">Map</span> modal window, use the <span class="UIelement">Date</span> column ($Date)&#160;for the first argument and <span class="UIelement">%Y-%m-%d</span> as the second argument.</p>
                                        <p>The process for executing a UDF is the same as those for executing other database functions. For more information about the map function, see <a href="../B_CommonTasks/Map.htm" class="MCXref xref">Using the map function to create new values</a>.</p>
                                        <h3>Result of executing the UDF</h3>
                                        <p>The following table is created with an additional column showing the day of week for each date:</p>
                                        <table style="mc-table-style: url('../Resources/TableStyles/SimpleTable.css');margin-left: 0;margin-right: auto;" class="TableStyle-SimpleTable" cellspacing="0">
                                            <col class="TableStyle-SimpleTable-Column-Column1" />
                                            <col class="TableStyle-SimpleTable-Column-Column1" />
                                            <col class="TableStyle-SimpleTable-Column-Column1" />
                                            <thead>
                                                <tr class="TableStyle-SimpleTable-Head-Header1">
                                                    <th class="TableStyle-SimpleTable-HeadE-Column1-Header1">Event</th>
                                                    <th class="TableStyle-SimpleTable-HeadE-Column1-Header1">Date</th>
                                                    <th class="TableStyle-SimpleTable-HeadD-Column1-Header1">Weekday</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="TableStyle-SimpleTable-Body-Body1">
                                                    <td class="TableStyle-SimpleTable-BodyE-Column1-Body1">Party</td>
                                                    <td class="TableStyle-SimpleTable-BodyE-Column1-Body1">2014-06-07</td>
                                                    <td class="TableStyle-SimpleTable-BodyD-Column1-Body1">Saturday</td>
                                                </tr>
                                                <tr class="TableStyle-SimpleTable-Body-Body2">
                                                    <td class="TableStyle-SimpleTable-BodyE-Column1-Body2">Concert</td>
                                                    <td class="TableStyle-SimpleTable-BodyE-Column1-Body2">2015-09-12</td>
                                                    <td class="TableStyle-SimpleTable-BodyD-Column1-Body2">Saturday</td>
                                                </tr>
                                                <tr class="TableStyle-SimpleTable-Body-Body1">
                                                    <td class="TableStyle-SimpleTable-BodyB-Column1-Body1">Conference</td>
                                                    <td class="TableStyle-SimpleTable-BodyB-Column1-Body1">2015-09-14</td>
                                                    <td class="TableStyle-SimpleTable-BodyA-Column1-Body1">Monday</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h2>Example of a UDF used for ingesting data</h2>
                                        <p>If you want to point to a dataset containing data not natively supported by XCE, you can execute a UDF that converts the data format immediately before the data is ingested. In the following example, the data source contains files in XML, which you can convert into JSON&#160;with a UDF.</p>
                                        <h3>Coding the UDF</h3>
                                        <p>Write the following code in a module named <span class="UIelement">convertxmltojson</span>:</p>
                                        <p class="userInput">import xmltodict</p>
                                        <p class="userInput">import json</p>
                                        <p class="userInput">def xmlToJson(xmlString, fullPath):</p>
                                        <p class="userInput">&#160;&#160;&#160;&#160;&#160;return json.dumps(xmltodict.parse(xmlString))</p>
                                        <p>This module imports a third-party module named <span class="UIelement">xmltodict</span> and defines a function named <span class="UIelement">xmlToJson</span>. This function has two parameters:</p>
                                        <ul>
                                            <li value="1">The <span class="UIelement">xmlString</span> parameter is a string containing the full contents of the data source. </li>
                                            <li value="2">The <span class="UIelement">fullPath</span> parameter  is a string, which is the full pathname to the data source.</li>
                                        </ul>
                                        <p>The return value of the function will be used in the place of the actual file contents.</p>
                                        <p>Upload this module so that it is available for execution.</p>
                                        <h3>Executing the UDF</h3>
                                        <p>In the <span class="UIelement">Point To New Dataset</span> window, follow these steps:</p>
                                        <ol>
                                            <li value="1">Fill out the <span class="UIelement">File Path</span> field.</li>
                                            <li value="2">Select the <span class="UIelement">UDF</span> check box. </li>
                                            <li value="3">Select the <span class="UIelement">convertxmltojson</span> module.</li>
                                            <li value="4">Select the <span class="UIelement">xmlToJson</span> function. </li>
                                            <li value="5">
                                                <p>Click <span class="UIelement">POINT TO&#160;DATA</span>. </p>
                                            </li>
                                        </ol>
                                        <p>For more information about pointing the dataset to a data source, see <a href="../A_IntroductoryTopics/FirstSteps.htm#Creating2" class="MCXref xref">Pointing to your data source</a>.</p>
                                        <h3>Result of executing the UDF</h3>
                                        <p>Suppose the data source is a file named <span class="UIelement">myFile.xml. </span>Its path, which you specified in the <span class="UIelement">File Path</span> field, is passed to the UDF as the <span class="UIelement">fullPath</span> parameter. The contents of <span class="UIelement">myFile.xml</span> are passed to the UDF&#160;in <span class="UIelement">xmlString</span>. The function returns a string containing the corresponding JSON&#160;data to which the dataset reference will point.</p>
                                        <p class="InPageSummary">You can create UDFs by creating it in the UDF panel. You can start from a blank function or use an existing module as a template. Alternatively, you can upload a module to XCE. After a module is uploaded, you can invoke it when you execute an operation or when you point a dataset to a data source.</p>
                                        <p class="hashtag">UDFInvoking</p>
                                        <p class="hashtag">InvokeUDF</p>
                                        <p class="hashtag">PointToDataSource</p>
                                        <p class="hashtag">UDFforConvertingDataFormat</p>
                                        <p class="hashtag">ConvertDataFormat</p>
                                        <p class="hashtag">PythonCodeParsing</p>
                                        <p class="hashtag">PythonCode</p>
                                        <p class="hashtag">ModuleName</p>
                                        <p class="hashtag">TypeUDF</p>
                                        <p class="hashtag">UploadUDF</p>
                                        <p class="hashtag">DownloadUDF</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a class="exit-off-canvas"></a>
                </section>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Common tasks">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Creating an integrity constraint violations table</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.5.5.0.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.topic-ratings-button
{
	-pie-background: transparent url('../../Skins/Default/Stylesheets/Images/star-full.png') no-repeat center center;
}

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.edit-user-profile-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/edit-profile.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.5.5.0_custom.js">
        </script>
        <script src="../../Resources/Scripts/foundation.offcanvas.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap">
            <div class="off-canvas-wrap" data-offcanvas="">
                <section class="inner-wrap">
                    <nav class="tab-bar" data-mc-ignore="true">
                        <section class="middle tab-bar-section outer-row clearfix">
                            <div class="relative clearfix"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                <div class="navigation-wrapper">
                                    <ul class="navigation clearfix">
                                        <li class="has-children"><a href="../A_GettingStarted/GettingStarted.htm">Getting started</a>
                                            <ul class="sub-menu">
                                                <li><a href="../A_GettingStarted/Requirements.htm">Requirements for Xcalar Insight</a>
                                                </li>
                                                <li><a href="../A_GettingStarted/BasicConcepts.htm">Basic Xcalar Insight concepts</a>
                                                </li>
                                                <li><a href="../A_GettingStarted/QuickStart.htm">Easy steps (with default settings)</a>
                                                </li>
                                                <li><a href="../A_GettingStarted/DetailedStepsForPointing.htm">Detailed steps (with custom settings)</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="CommonTasks.htm">Common tasks</a>
                                            <ul class="sub-menu">
                                                <li><a href="CreateTable.htm">Creating a table</a>
                                                </li>
                                                <li><a href="AddColumns.htm">Adding columns from a dataset to a table</a>
                                                </li>
                                                <li><a href="ChangeDataType.htm">Changing the data type for a column</a>
                                                </li>
                                                <li><a href="CountOccurrencesOfValues.htm">Counting occurrences of unique values in a column</a>
                                                </li>
                                                <li><a href="UndoRedo.htm">Undoing and redoing an operation</a>
                                                </li>
                                                <li><a href="FilterValue.htm">Filtering in a table column</a>
                                                </li>
                                                <li><a href="#" class="selected">Creating an integrity constraint violations table</a>
                                                </li>
                                                <li><a href="JoinTables.htm">Joining tables</a>
                                                </li>
                                                <li><a href="GroupBy.htm">Grouping data in a table</a>
                                                </li>
                                                <li><a href="Map.htm">Using the Map function to create new values</a>
                                                </li>
                                                <li><a href="Correlation.htm">Determining correlation between two values</a>
                                                </li>
                                                <li><a href="QuickAggregates.htm">Determining aggregate values</a>
                                                </li>
                                                <li><a href="ChangeTableStatus.htm">Understanding and changing a table status</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="../C_AdvancedTasks/AdvancedTasks.htm">Advanced tasks</a>
                                            <ul class="sub-menu">
                                                <li><a href="../C_AdvancedTasks/Extensions.htm">Using extensions</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/UDFUnderstand.htm">Understanding user-defined functions (UDFs)</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/UDFTasks.htm">Using user-defined functions (UDFs)</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/FunctionBar.htm">Using the function or search bar</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/CreateBatchDataflow.htm">Understanding and creating batch dataflows</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/UseBatchDataflow.htm">Using batch dataflows</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/UnderstandMemoryUse.htm">Understanding memory usage</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/OptimizeMemory.htm">Optimizing memory usage</a>
                                                </li>
                                                <li><a href="../C_AdvancedTasks/Monitor.htm">Using the Monitor</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="../D_Reference/Reference.htm">Reference</a>
                                            <ul class="sub-menu">
                                                <li><a href="../D_Reference/InsightWindow.htm">Xcalar Insight window</a>
                                                </li>
                                                <li><a href="../D_Reference/WkbkBrowser.htm">Workbook Browser</a>
                                                </li>
                                                <li><a href="../D_Reference/WorksheetWindow.htm">Worksheet window with tables</a>
                                                </li>
                                                <li><a href="../D_Reference/DataBrowser.htm">Data Browser</a>
                                                </li>
                                                <li><a href="../D_Reference/DataflowGraph.htm">Dataflow graph</a>
                                                </li>
                                                <li><a href="../D_Reference/Table_options.htm">Table options</a>
                                                </li>
                                                <li><a href="../D_Reference/ColumnOptions.htm">Column options</a>
                                                </li>
                                                <li><a href="../D_Reference/CellOptions.htm">Cell options</a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div><a class="menu-icon right-off-canvas-toggle" href="#"><span></span></a>
                            </div>
                        </section>
                        <div class="nav-search row outer-row">
                            <form class="search" action="#">
                                <div class="search-bar search-bar-container needs-pie">
                                    <input class="search-field needs-pie" type="search" placeholder="Search" />
                                    <div class="search-filter-wrapper">
                                        <div class="search-filter">
                                            <div class="search-filter-content">
                                                <ul>
                                                    <li>All Files</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-submit-wrapper" dir="ltr">
                                        <div class="search-submit" title="Search">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </nav>
                    <aside class="right-off-canvas-menu" data-mc-ignore="true">
                        <ul class="off-canvas-list" data-mc-back-link="Back" data-mc-css-tree-node-expanded="has-submenu" data-mc-css-tree-node-collapsed="has-submenu" data-mc-css-sub-menu="right-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.fndtn.offcanvas" data-mc-toc="True">
                        </ul>
                    </aside>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div id="contentBody">
                                <div class="row collapse">
                                    <div class="sideContent">
                                        <div class="clearfix">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolBar mc-component">
                                                <div class="button-group-container-left">
                                                    <div class="button-group star-buttons loading feedback-topic-required">
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                        <div class="button star-button topic-ratings-empty-button" data-state1-class="topic-ratings-empty-button" data-state2-class="topic-ratings-button" title="Click a star to rate this topic" data-state1-title="Click a star to rate this topic" data-state2-title="Click a star to rate this topic">
                                                            <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="topic rating" />
                                                        </div>
                                                    </div>
                                                    <div class="button-separator feedback-topic-required">
                                                    </div>
                                                    <button class="button feedback-required login-button" id="normalLoginBtn" data-state1-class="login-button" data-state2-class="edit-user-profile-button" title="Login" data-state1-title="Login">
                                                        <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="login" />
                                                    </button>
                                                    <button class="button needs-pie print-button" title="Print">
                                                        <img src="../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <ul class="menu _Skins_SideMenu mc-component">
                                            <li class="has-children"><a href="CommonTasks.htm">Common tasks</a>
                                                <ul class="sub-menu">
                                                    <li><a href="CreateTable.htm">Creating a table</a>
                                                    </li>
                                                    <li><a href="AddColumns.htm">Adding columns from a dataset to a table</a>
                                                    </li>
                                                    <li><a href="ChangeDataType.htm">Changing the data type for a column</a>
                                                    </li>
                                                    <li><a href="CountOccurrencesOfValues.htm">Counting occurrences of unique values in a column</a>
                                                    </li>
                                                    <li><a href="UndoRedo.htm">Undoing and redoing an operation</a>
                                                    </li>
                                                    <li><a href="FilterValue.htm">Filtering in a table column</a>
                                                    </li>
                                                    <li><a href="#" class="selected">Creating an integrity constraint violations table</a>
                                                    </li>
                                                    <li><a href="JoinTables.htm">Joining tables</a>
                                                    </li>
                                                    <li><a href="GroupBy.htm">Grouping data in a table</a>
                                                    </li>
                                                    <li><a href="Map.htm">Using the Map function to create new values</a>
                                                    </li>
                                                    <li><a href="Correlation.htm">Determining correlation between two values</a>
                                                    </li>
                                                    <li><a href="QuickAggregates.htm">Determining aggregate values</a>
                                                    </li>
                                                    <li><a href="ChangeTableStatus.htm">Understanding and changing a table status</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="CommonTasks.htm">Common tasks</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Creating an integrity constraint violations table</span>
                                    </div>
                                    <div class="bodyProxyNarrow">
                                        <h1>Creating an integrity constraint violations table</h1>
                                        <p>Tables created in <span class="GeneralCompanyNameShort">Xcalar</span> might contain integrity constraint violations.&#160;The following list describes the typical scenarios when integrity constraint violations occur:</p>
                                        <ul>
                                            <li value="1">Integrity constraint violations occur when the values are inserted or updated in the data source before <span class="GeneralProductName">Xcalar Insight</span> points to it. The dataset  being pointed to might include erroneous values. For example, in a dataset for flight information, the Airtime field might contain a string due to data entry errors.</li>
                                            <li value="2">
                                                <p>A <span class="GeneralProductName">Xcalar Insight</span> function  cannot operate on a value in a table cell.&#160;For example, if an integer column contains the string N/A and you use the Map function to increment values in the column, the row with the N/A string in the resultant table is considered an integrity constraint violation. A message similar to the following is displayed in the cell with the violation:</p>
                                                <p class="CLIoutput">Some variables are undefined during evaluation</p>
                                            </li>
                                        </ul>
                                        <p>In <span class="GeneralProductName">Xcalar Insight</span>, a table containing only rows with integrity constraint violations is called an ICV&#160;table.</p>
                                        <h2>Creating an ICV table</h2>
                                        <p>Rows containing integrity constraint violations might be of interest because you can gain insights from erroneous data (for example, by finding unexpected values in an analysis of data for fraud detection) or because you want to filter out data that exist due to errors. </p>
                                        <h3>Functions for creating an ICV&#160;table</h3>
                                        <p>The Map and Group By functions enable you to create an ICV&#160;table. This means that when you use the Map or Group By function to create a table, you can specify that the table includes only rows with integrity constraint violations.</p>
                                        <p>This section assumes that you understand how to use the Map and Group By functions in <span class="GeneralProductName">Xcalar Insight</span>. If not, familiarize yourself with these functions by reading the following topics:</p>
                                        <ul>
                                            <li value="1"><a href="Map.htm" class="MCXref xref">Using the Map function to create new values</a>
                                            </li>
                                            <li value="2"><a href="GroupBy.htm" class="MCXref xref">Grouping data in a table</a>. </li>
                                        </ul>
                                        <h3>Example of a Map function for creating an ICV&#160;table</h3>
                                        <p>In the table created from a dataset with flight information, the column named ArrDelay contains the number of minutes for each flight's arrival delay. Suppose the initial data type for this column is String, you can use the <span class="UIelement">type-casting</span> function in the <span class="UIelement">MAP</span> panel to change its type to Integer. If you select the <span class="UIelement">View only erroneous rows</span> in the <span class="UIelement">MAP</span> panel, the new table contains only the rows with integrity constraint violations in the resultant column.</p>
                                        <p class="comments">XXXReminder:&#160;Change the wording for the "erroneous"&#160;option.</p>
                                        <p>The following screenshot illustrates the <span class="UIelement">Map</span> panel for changing the data type of the ArrDelay column.</p>
                                        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../Resources/Images/Insight_screenshots/example-map-to-create-ICV.png"><img class="MCPopupThumbnail img imgBigImage" data-mc-width="1253" data-mc-height="862" src="../Resources/Images/Insight_screenshots/example-map-to-create-ICV_thumb_0_150.png" tabindex="" /></a>
                                        </p>
                                        <p>The following screenshot illustrates the resultant table containing only rows with integrity constraint violations in the ArrDelay column.</p>
                                        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../Resources/Images/Insight_screenshots/example-ICV-column.png"><img class="MCPopupThumbnail img imgBigImage" data-mc-width="1108" data-mc-height="613" src="../Resources/Images/Insight_screenshots/example-ICV-column_thumb_0_150.png" tabindex="" /></a>
                                        </p>
                                        <h3>Re-running a function in a dataflow to create an ICV table</h3>
                                        <p>This section assumes that you are familiar with the dataflow graph in a worksheet. For information about dataflows, see <a href="../D_Reference/DataflowGraph.htm" class="MCXref xref">Dataflow graph</a>.</p>
                                        <p>In a dataflow graph, you can create an&#160;ICV&#160;table through a Map or Group by function previously executed. For example, in the following dataflow graph, you can click the icon for the airlines3 table to display a pop-up menu. In the menu, you can select <span class="UIelement">Integrity Constraints Table</span> to create a table with the same Map function shown in the dataflow. This method generates a table in the same way as selecting <span class="UIelement">View only erroneous rows</span> in the <span class="UIelement">MAP</span> panel.</p>
                                        <p class="comments">XXXReminder:&#160;Integrity Constraints Table option might change.</p>
                                        <p>
                                            <img src="../Resources/Images/Insight_screenshots/example-create-ICV-from-dfg.png" />
                                        </p>
                                        <p>The following list describes the results of creating an ICV&#160;table from the dataflow graph:</p>
                                        <ul>
                                            <li value="1">A new table is created by the Map or Group By function. In this example, the new table contains only rows with integrity constraint violations in the Distance_integer column. </li>
                                            <li value="2">The new table is an active table with its own dataflow graph. The table icon in the graph is red to indicate that the table is an ICV table.</li>
                                            <li value="3">The dataflow graph from which the new table is created stays in the worksheet and remains unchanged.</li>
                                        </ul>
                                        <div class="Note"><span class="label">NOTE:</span>&#160;From the dataflow graph, you can create an ICV&#160;table from any table produced by a Map or Group By function. It can be a temporary or active table.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a class="exit-off-canvas"></a>
                </section>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
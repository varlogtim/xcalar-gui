<!DOCTYPE html>
<html>
<head>
    <title>Prettify JSON with switches</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <style type="text/css">
        #result {
            background-color: #FFFFFF;
            margin: 20px; 
            font-family:  Monaco, courier, sans-serif;
            font-size: 28px;
            color: #FFA633;
        }

        .jsonBlock {
            display:block;
            overflow-x: auto;
        }

        .jObject {
            padding-left: 40px;
            position:relative;
        }

        .jKey {
            color: #002D41;
        }

        .jString {
            color: #9b8920;
        }

        .jNum, .jBool, .jNull , .jUndf {
            color: #e74a5f;
        }

        .jArray > .jString {
            color: #2B594F;
        }

    </style>
</head>
<body>

<div id="result"></div>

<script type="text/javascript">
     var object = {"yelping_since": "2010-07", "votes": {"funny": 4, "useful": 23, "cool": 9}, "review_count": 19, "boolean": false, "user_id": "5AwX3A1D-PJkkrWuRpmpCA", "friends": [{"key": "value", "number": [['blah','boogy'],['array2','morearray2']]},{"fHv7k5vWd6ryt8jH4J3teg" : {"key": "value", "number": [['blah','boogy'],['array2','morearray2']]}}, "yvgSv4X_ZHcI-jkP_cZ1iQ"], "fans": 1, "average_stars": 4.2999999999999998, "type": "user", "compliments": {"photos": 1}, "elite": [], "bigobject": {"yelping_since": "2010-07", "votes": {"funny": 4, "useful": 23, "cool": 9}, "review_count": 19, "boolean": false, "user_id": "5AwX3A1D-PJkkrWuRpmpCA", "friends": [{"key": "value", "number": [['blah','boogy'],['array2','morearray2']]},{"fHv7k5vWd6ryt8jH4J3teg" : {"key": "value", "number": [['blah','boogy'],['array2','morearray2']]}}, "yvgSv4X_ZHcI-jkP_cZ1iQ"], "fans": 1, "average_stars": 4.2999999999999998, "type": "user", "compliments": {"photos": 1}, "elite": []}};
    var object = {"yelping_since": "2010-07", "votes": {"funny": 4, "useful": 23, "cool": 9}, "review_count": 19, "boolean": false, "user_id": "5AwX3A1D-PJkkrWuRpmpCA", "friends": [{"key": "value", "number": [['blah','boogy'],['array2','morearray2']]},{"fHv7k5vWd6ryt8jH4J3teg" : {"key": "value", "number": [['blah','boogy'],['array2','morearray2']]}}, "yvgSv4X_ZHcI-jkP_cZ1iQ"], "fans": 1, "average_stars": 4.2999999999999998, "type": "user", "compliments": {"photos": 1}, "elite": []};

    var object = {"friends": [{"key": "value", "number": [['blah','boogy'],['array','array2']]},{"fHv7k5vWd6ryt8jH4J3teg" : {"2ndkey": "2ndvalue", "2ndnumber": [['2ndblah','2ndboogy'],['array2','morearray2']]}}, "yvgSv4X_ZHcI-jkP_cZ1iQ"]};
    var object = {"friends": ['blah','boogy']};

    var object = {"yelping_since": "2010-07", "votes": {"funny": 4, "useful": 23, "cool": 9}, "review_count": 19, "boolean": false, "user_id": "5AwX3A1D-PJkkrWuRpmpCA", "friends": [{"key": "value", "number": [['blah','boogy'],['array2','morearray2']]},{"fHv7k5vWd6ryt8jH4J3teg" : {"key": "value", "number": [['blah','boogy'],['array2','morearray2']]}}, "yvgSv4X_ZHcI-jkP_cZ1iQ"], "fans": 1, "average_stars": 4.2999999999999998, "type": "user", "compliments": {"photos": 1}, "elite": [], "bigobject": {"yelping_since": "2010-07", "votes": {"funny": 4, "useful": 23, "cool": 9}, "review_count": 19, "boolean": false, "user_id": "5AwX3A1D-PJkkrWuRpmpCA", "friends": [{"key": "value", "number": [['blah',['blah','boogy'],{"funny": {"funny": 4, "useful": 23, "cool": 9}, "useful": 23, "cool": 9}],['array2','morearray2']]},{"fHv7k5vWd6ryt8jH4J3teg" : {"key": "value", "number": [['blah','boogy'],['array2','morearray2']]}}, "yvgSv4X_ZHcI-jkP_cZ1iQ"], "fans": 1, "average_stars": 4.2999999999999998, "type": "user", "compliments": {"photos": 1}, "elite": [], "elite2":[{"funny": 4, "useful": 23, "cool": 9}, {"funny": 4, "useful": 23, "cool": 9}, {"funny": 4, "useful": 23, "cool": 9}]}};

    // var object = {"key": "value", "number": [['blah','boogy'],['array2','morearray2']]}
    var objects = {  
                    "key": "value", 
                    "number": [{"object1":{
                            "key1":"val1"
                        }
                    },{
                        "object2":{
                            "key2":"val2"
                        }
                    },{
                        "object3":{
                            "key3":"val3"
                        }
                    },{
                        "array":["item1", "item2", "item3"],
                        "array2":[["1item1", "1item2"], ["2item1", "2item3"], [[3,4], [4,{"object3":["sub1","sub2"]}]]], 
                    }],
                    "key2" : 5,
                    "key3" : true,
                    "key4" : "hi"
                };

    $("#result").html("{<div class='jObject'>"+ prettifyJson(object) +"</div>}");

    function prettifyJson(obj, indent, options) {
        var result = "";
        var indent = indent || "";
        var options = options || {};
        options['inarray'] = options['inarray'] || 0;
        if (typeof obj != 'object') {
            return (JSON.stringify(obj));
        }
        for (var key in obj) {
            var value = obj[key];
            switch (typeof value) {
            case ('string'):
                value = '"<span class="jString">'+value+'</span>"';
                if (options.inarray) {
                    value = '<span class="jArray">'+value+'</span>, ';
                } 
                break;
            case ('number'):
                value = '<span class="jNum">'+value +'</span>';
                if (options.inarray) {
                    value += ',';
                } 
                break;
            case ('boolean'):
                value = '<span class="jBool">'+value+'</span>';
                if (options.inarray) {
                    value += ',';
                }
                break;
            case ('object'):
                if (value.constructor == Array) {
                    options.inarray++;
                    value = '[<span class="jArray">'+prettifyJson(value, indent, options)+'</span>],';
                } else {
                    var object = prettifyJson(value, indent+'&nbsp;&nbsp;&nbsp;&nbsp;');
                    value = '{\n'+object +indent+'}'
                    if (options.inarray) {
                        value = '<span class="jArray">'+value+'</span>,';
                    } 
                }
                break;
            default:
                value = '<span class="jUndf">'+value+'</span>';
                if (options.inarray) {
                    value += ',';
                }
                break;
            }
            if (options.inarray) {
                result += value;
            } else {
                value = value.replace(/,$/, "");
                result += '<div class="jsonBlock '+'json-'+key+'">'+indent
                +'"<span class="jKey">'+key+'</span>": '+value+',</div>';
            }
        }
        console.log(options.inarray, obj);
        options.inarray--;
        return (result.replace(/\,<\/div>$/, "</div>").replace(/\, $/, "").replace(/\,$/, "")); 
        // .replace used to remove comma if last value in object
    }
</script>
</body>
</html>
